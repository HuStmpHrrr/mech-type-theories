<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>Induction</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Comment" id="1">------------------------------------------------------------------------</a>
<a class="Comment" id="74">-- The Agda standard library</a>
<a class="Comment" id="103">--</a>
<a class="Comment" id="106">-- An abstraction of various forms of recursion/induction</a>
<a class="Comment" id="164">------------------------------------------------------------------------</a>

<a class="Comment" id="238">-- The idea underlying Induction.* comes from Epigram 1, see Section 4</a>
<a class="Comment" id="309">-- of "The view from the left" by McBride and McKinna.</a>

<a class="Comment" id="365">-- Note: The types in this module can perhaps be easier to understand</a>
<a class="Comment" id="435">-- if they are normalised. Note also that Agda can do the</a>
<a class="Comment" id="493">-- normalisation for you.</a>

<a class="Symbol" id="520">{-#</a> <a class="Keyword" id="524">OPTIONS</a> <a class="Pragma" id="532">--cubical-compatible</a> <a class="Pragma" id="553">--safe</a> <a class="Symbol" id="560">#-}</a>

<a class="Keyword" id="565">module</a> <a class="Module" href="Induction.html" id="572">Induction</a> <a class="Keyword" id="582">where</a>

<a class="Keyword" id="589">open</a> <a class="Keyword" id="594">import</a> <a class="Module" href="Level.html" id="601">Level</a>
<a class="Keyword" id="607">open</a> <a class="Keyword" id="612">import</a> <a class="Module" href="Relation.Unary.html" id="619">Relation.Unary</a>
<a class="Keyword" id="634">open</a> <a class="Keyword" id="639">import</a> <a class="Module" href="Relation.Unary.PredicateTransformer.html" id="646">Relation.Unary.PredicateTransformer</a> <a class="Keyword" id="682">using</a> <a class="Symbol" id="688">(</a><a class="Function" href="Relation.Unary.PredicateTransformer.html#735" id="689">PT</a><a class="Symbol" id="691">)</a>

<a class="Keyword" id="694">private</a>
  <a class="Keyword" id="704">variable</a>
    <a class="Generalizable" href="Induction.html#717" id="717">a</a> <a class="Generalizable" href="Induction.html#719" id="719">ℓ</a> <a class="Generalizable" href="Induction.html#721" id="721">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="724">ℓ₂</a> <a class="Symbol" id="727">:</a> <a class="Postulate" href="Agda.Primitive.html#742" id="729">Level</a>
    <a class="Generalizable" href="Induction.html#739" id="739">A</a> <a class="Symbol" id="741">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="743">Set</a> <a class="Generalizable" href="Induction.html#717" id="747">a</a>
    <a class="Generalizable" href="Induction.html#753" id="753">Q</a> <a class="Symbol" id="755">:</a> <a class="Function" href="Relation.Unary.html#1178" id="757">Pred</a> <a class="Generalizable" href="Induction.html#739" id="762">A</a> <a class="Generalizable" href="Induction.html#719" id="764">ℓ</a>
    <a class="Generalizable" href="Induction.html#770" id="770">Rec</a> <a class="Symbol" id="774">:</a> <a class="Function" href="Relation.Unary.PredicateTransformer.html#735" id="776">PT</a> <a class="Generalizable" href="Induction.html#739" id="779">A</a> <a class="Generalizable" href="Induction.html#739" id="781">A</a> <a class="Generalizable" href="Induction.html#721" id="783">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="786">ℓ₂</a>


<a class="Comment" id="791">------------------------------------------------------------------------</a>
<a class="Comment" id="864">-- A RecStruct describes the allowed structure of recursion. The</a>
<a class="Comment" id="929">-- examples in Data.Nat.Induction should explain what this is all</a>
<a class="Comment" id="995">-- about.</a>

<a id="RecStruct"></a><a class="Function" href="Induction.html#1006" id="1006">RecStruct</a> <a class="Symbol" id="1016">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1018">Set</a> <a class="Generalizable" href="Induction.html#717" id="1022">a</a> <a class="Symbol" id="1024">→</a> <a class="Symbol" id="1026">(</a><a class="Bound" href="Induction.html#1027" id="1027">ℓ₁</a> <a class="Bound" href="Induction.html#1030" id="1030">ℓ₂</a> <a class="Symbol" id="1033">:</a> <a class="Postulate" href="Agda.Primitive.html#742" id="1035">Level</a><a class="Symbol" id="1040">)</a> <a class="Symbol" id="1042">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1044">Set</a> <a class="Symbol" id="1048">_</a>
<a class="Function" href="Induction.html#1006" id="1050">RecStruct</a> <a class="Bound" href="Induction.html#1060" id="1060">A</a> <a class="Symbol" id="1062">=</a> <a class="Function" href="Relation.Unary.PredicateTransformer.html#735" id="1064">PT</a> <a class="Bound" href="Induction.html#1060" id="1067">A</a> <a class="Bound" href="Induction.html#1060" id="1069">A</a>

<a class="Comment" id="1072">-- A recursor builder constructs an instance of a recursion structure</a>
<a class="Comment" id="1142">-- for a given input.</a>

<a id="RecursorBuilder"></a><a class="Function" href="Induction.html#1165" id="1165">RecursorBuilder</a> <a class="Symbol" id="1181">:</a> <a class="Function" href="Induction.html#1006" id="1183">RecStruct</a> <a class="Generalizable" href="Induction.html#739" id="1193">A</a> <a class="Generalizable" href="Induction.html#721" id="1195">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="1198">ℓ₂</a> <a class="Symbol" id="1201">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1203">Set</a> <a class="Symbol" id="1207">_</a>
<a class="Function" href="Induction.html#1165" id="1209">RecursorBuilder</a> <a class="Bound" href="Induction.html#1225" id="1225">Rec</a> <a class="Symbol" id="1229">=</a> <a class="Symbol" id="1231">∀</a> <a class="Bound" href="Induction.html#1233" id="1233">P</a> <a class="Symbol" id="1235">→</a> <a class="Bound" href="Induction.html#1225" id="1237">Rec</a> <a class="Bound" href="Induction.html#1233" id="1241">P</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1243">⊆′</a> <a class="Bound" href="Induction.html#1233" id="1246">P</a> <a class="Symbol" id="1248">→</a> <a class="Function" href="Relation.Unary.html#3655" id="1250">Universal</a> <a class="Symbol" id="1260">(</a><a class="Bound" href="Induction.html#1225" id="1261">Rec</a> <a class="Bound" href="Induction.html#1233" id="1265">P</a><a class="Symbol" id="1266">)</a>

<a class="Comment" id="1269">-- A recursor can be used to actually compute/prove something useful.</a>

<a id="Recursor"></a><a class="Function" href="Induction.html#1340" id="1340">Recursor</a> <a class="Symbol" id="1349">:</a> <a class="Function" href="Induction.html#1006" id="1351">RecStruct</a> <a class="Generalizable" href="Induction.html#739" id="1361">A</a> <a class="Generalizable" href="Induction.html#721" id="1363">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="1366">ℓ₂</a> <a class="Symbol" id="1369">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1371">Set</a> <a class="Symbol" id="1375">_</a>
<a class="Function" href="Induction.html#1340" id="1377">Recursor</a> <a class="Bound" href="Induction.html#1386" id="1386">Rec</a> <a class="Symbol" id="1390">=</a> <a class="Symbol" id="1392">∀</a> <a class="Bound" href="Induction.html#1394" id="1394">P</a> <a class="Symbol" id="1396">→</a> <a class="Bound" href="Induction.html#1386" id="1398">Rec</a> <a class="Bound" href="Induction.html#1394" id="1402">P</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1404">⊆′</a> <a class="Bound" href="Induction.html#1394" id="1407">P</a> <a class="Symbol" id="1409">→</a> <a class="Function" href="Relation.Unary.html#3655" id="1411">Universal</a> <a class="Bound" href="Induction.html#1394" id="1421">P</a>

<a class="Comment" id="1424">-- And recursors can be constructed from recursor builders.</a>

<a id="build"></a><a class="Function" href="Induction.html#1485" id="1485">build</a> <a class="Symbol" id="1491">:</a> <a class="Function" href="Induction.html#1165" id="1493">RecursorBuilder</a> <a class="Generalizable" href="Induction.html#770" id="1509">Rec</a> <a class="Symbol" id="1513">→</a> <a class="Function" href="Induction.html#1340" id="1515">Recursor</a> <a class="Generalizable" href="Induction.html#770" id="1524">Rec</a>
<a class="Function" href="Induction.html#1485" id="1528">build</a> <a class="Bound" href="Induction.html#1534" id="1534">builder</a> <a class="Bound" href="Induction.html#1542" id="1542">P</a> <a class="Bound" href="Induction.html#1544" id="1544">f</a> <a class="Bound" href="Induction.html#1546" id="1546">x</a> <a class="Symbol" id="1548">=</a> <a class="Bound" href="Induction.html#1544" id="1550">f</a> <a class="Bound" href="Induction.html#1546" id="1552">x</a> <a class="Symbol" id="1554">(</a><a class="Bound" href="Induction.html#1534" id="1555">builder</a> <a class="Bound" href="Induction.html#1542" id="1563">P</a> <a class="Bound" href="Induction.html#1544" id="1565">f</a> <a class="Bound" href="Induction.html#1546" id="1567">x</a><a class="Symbol" id="1568">)</a>

<a class="Comment" id="1571">-- We can repeat the exercise above for subsets of the type we are</a>
<a class="Comment" id="1638">-- recursing over.</a>

<a id="SubsetRecursorBuilder"></a><a class="Function" href="Induction.html#1658" id="1658">SubsetRecursorBuilder</a> <a class="Symbol" id="1680">:</a> <a class="Function" href="Relation.Unary.html#1178" id="1682">Pred</a> <a class="Generalizable" href="Induction.html#739" id="1687">A</a> <a class="Generalizable" href="Induction.html#719" id="1689">ℓ</a> <a class="Symbol" id="1691">→</a> <a class="Function" href="Induction.html#1006" id="1693">RecStruct</a> <a class="Generalizable" href="Induction.html#739" id="1703">A</a> <a class="Generalizable" href="Induction.html#721" id="1705">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="1708">ℓ₂</a> <a class="Symbol" id="1711">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1713">Set</a> <a class="Symbol" id="1717">_</a>
<a class="Function" href="Induction.html#1658" id="1719">SubsetRecursorBuilder</a> <a class="Bound" href="Induction.html#1741" id="1741">Q</a> <a class="Bound" href="Induction.html#1743" id="1743">Rec</a> <a class="Symbol" id="1747">=</a> <a class="Symbol" id="1749">∀</a> <a class="Bound" href="Induction.html#1751" id="1751">P</a> <a class="Symbol" id="1753">→</a> <a class="Bound" href="Induction.html#1743" id="1755">Rec</a> <a class="Bound" href="Induction.html#1751" id="1759">P</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1761">⊆′</a> <a class="Bound" href="Induction.html#1751" id="1764">P</a> <a class="Symbol" id="1766">→</a> <a class="Bound" href="Induction.html#1741" id="1768">Q</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1770">⊆′</a> <a class="Bound" href="Induction.html#1743" id="1773">Rec</a> <a class="Bound" href="Induction.html#1751" id="1777">P</a>

<a id="SubsetRecursor"></a><a class="Function" href="Induction.html#1780" id="1780">SubsetRecursor</a> <a class="Symbol" id="1795">:</a> <a class="Function" href="Relation.Unary.html#1178" id="1797">Pred</a> <a class="Generalizable" href="Induction.html#739" id="1802">A</a> <a class="Generalizable" href="Induction.html#719" id="1804">ℓ</a> <a class="Symbol" id="1806">→</a> <a class="Function" href="Induction.html#1006" id="1808">RecStruct</a> <a class="Generalizable" href="Induction.html#739" id="1818">A</a> <a class="Generalizable" href="Induction.html#721" id="1820">ℓ₁</a> <a class="Generalizable" href="Induction.html#724" id="1823">ℓ₂</a> <a class="Symbol" id="1826">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1828">Set</a> <a class="Symbol" id="1832">_</a>
<a class="Function" href="Induction.html#1780" id="1834">SubsetRecursor</a> <a class="Bound" href="Induction.html#1849" id="1849">Q</a> <a class="Bound" href="Induction.html#1851" id="1851">Rec</a> <a class="Symbol" id="1855">=</a> <a class="Symbol" id="1857">∀</a> <a class="Bound" href="Induction.html#1859" id="1859">P</a> <a class="Symbol" id="1861">→</a> <a class="Bound" href="Induction.html#1851" id="1863">Rec</a> <a class="Bound" href="Induction.html#1859" id="1867">P</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1869">⊆′</a> <a class="Bound" href="Induction.html#1859" id="1872">P</a> <a class="Symbol" id="1874">→</a> <a class="Bound" href="Induction.html#1849" id="1876">Q</a> <a class="Function Operator" href="Relation.Unary.html#2703" id="1878">⊆′</a> <a class="Bound" href="Induction.html#1859" id="1881">P</a>

<a id="subsetBuild"></a><a class="Function" href="Induction.html#1884" id="1884">subsetBuild</a> <a class="Symbol" id="1896">:</a> <a class="Function" href="Induction.html#1658" id="1898">SubsetRecursorBuilder</a> <a class="Generalizable" href="Induction.html#753" id="1920">Q</a> <a class="Generalizable" href="Induction.html#770" id="1922">Rec</a> <a class="Symbol" id="1926">→</a> <a class="Function" href="Induction.html#1780" id="1928">SubsetRecursor</a> <a class="Generalizable" href="Induction.html#753" id="1943">Q</a> <a class="Generalizable" href="Induction.html#770" id="1945">Rec</a>
<a class="Function" href="Induction.html#1884" id="1949">subsetBuild</a> <a class="Bound" href="Induction.html#1961" id="1961">builder</a> <a class="Bound" href="Induction.html#1969" id="1969">P</a> <a class="Bound" href="Induction.html#1971" id="1971">f</a> <a class="Bound" href="Induction.html#1973" id="1973">x</a> <a class="Bound" href="Induction.html#1975" id="1975">q</a> <a class="Symbol" id="1977">=</a> <a class="Bound" href="Induction.html#1971" id="1979">f</a> <a class="Bound" href="Induction.html#1973" id="1981">x</a> <a class="Symbol" id="1983">(</a><a class="Bound" href="Induction.html#1961" id="1984">builder</a> <a class="Bound" href="Induction.html#1969" id="1992">P</a> <a class="Bound" href="Induction.html#1971" id="1994">f</a> <a class="Bound" href="Induction.html#1973" id="1996">x</a> <a class="Bound" href="Induction.html#1975" id="1998">q</a><a class="Symbol" id="1999">)</a>
</pre></div></body></html>