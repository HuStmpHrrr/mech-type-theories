<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>MLTT.Semantics.PER</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Symbol" id="1">{-#</a> <a class="Keyword" id="5">OPTIONS</a> <a class="Pragma" id="13">--without-K</a> <a class="Pragma" id="25">--safe</a> <a class="Symbol" id="32">#-}</a>

<a class="Comment" id="37">-- Definition of the PER model</a>
<a class="Comment" id="68">--</a>
<a class="Comment" id="71">-- The PER model relates two domain values such that the syntactic terms they</a>
<a class="Comment" id="149">-- represent are equivalent. Since we are handling MLTT with full a ω universe, we must</a>
<a class="Comment" id="237">-- use a feature, induction-recursion, to strengthen the logical power of the</a>
<a class="Comment" id="315">-- meta-language.</a>
<a class="Keyword" id="333">module</a> <a class="Module" href="MLTT.Semantics.PER.html" id="340">MLTT.Semantics.PER</a> <a class="Keyword" id="359">where</a>

<a class="Keyword" id="366">open</a> <a class="Keyword" id="371">import</a> <a class="Module" href="Data.Nat.Properties.html" id="378">Data.Nat.Properties</a>

<a class="Keyword" id="399">open</a> <a class="Keyword" id="404">import</a> <a class="Module" href="Lib.html" id="411">Lib</a> <a class="Keyword" id="415">hiding</a> <a class="Symbol" id="422">(</a><a class="Function" href="Lib.html#7288" id="423">lookup</a><a class="Symbol" id="429">)</a>
<a class="Keyword" id="431">open</a> <a class="Keyword" id="436">import</a> <a class="Module" href="MLTT.Semantics.Domain.html" id="443">MLTT.Semantics.Domain</a>
<a class="Keyword" id="465">open</a> <a class="Keyword" id="470">import</a> <a class="Module" href="MLTT.Semantics.Evaluation.html" id="477">MLTT.Semantics.Evaluation</a>
<a class="Keyword" id="503">open</a> <a class="Keyword" id="508">import</a> <a class="Module" href="MLTT.Semantics.Readback.html" id="515">MLTT.Semantics.Readback</a>
<a class="Keyword" id="539">open</a> <a class="Keyword" id="544">import</a> <a class="Module" href="Relation.Binary.html" id="551">Relation.Binary</a> <a class="Keyword" id="567">using</a> <a class="Symbol" id="573">(</a><a class="Function" href="Relation.Binary.Core.html#896" id="574">Rel</a><a class="Symbol" id="577">)</a>

<a id="Ty"></a><a class="Function" href="MLTT.Semantics.PER.html#580" id="580">Ty</a> <a class="Symbol" id="583">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="585">Set₁</a>
<a class="Function" href="MLTT.Semantics.PER.html#580" id="590">Ty</a> <a class="Symbol" id="593">=</a> <a class="Function" href="Relation.Binary.Core.html#896" id="595">Rel</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="599">D</a> <a class="Symbol" id="601">_</a>

<a id="Ev"></a><a class="Function" href="MLTT.Semantics.PER.html#604" id="604">Ev</a> <a class="Symbol" id="607">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="609">Set₁</a>
<a class="Function" href="MLTT.Semantics.PER.html#604" id="614">Ev</a> <a class="Symbol" id="617">=</a> <a class="Function" href="Relation.Binary.Core.html#896" id="619">Rel</a> <a class="Function" href="MLTT.Semantics.Domain.html#763" id="623">Env</a> <a class="Symbol" id="627">_</a>

<a class="Comment" id="630">-- Two neutral domain values are related if they are read back equal</a>
<a id="Bot"></a><a class="Function" href="MLTT.Semantics.PER.html#699" id="699">Bot</a> <a class="Symbol" id="703">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1326" id="705">Dn</a> <a class="Symbol" id="708">→</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1326" id="710">Dn</a> <a class="Symbol" id="713">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="715">Set</a>
<a class="Function" href="MLTT.Semantics.PER.html#699" id="719">Bot</a> <a class="Bound" href="MLTT.Semantics.PER.html#723" id="723">c</a> <a class="Bound" href="MLTT.Semantics.PER.html#725" id="725">c′</a> <a class="Symbol" id="728">=</a> <a class="Symbol" id="730">∀</a> <a class="Bound" href="MLTT.Semantics.PER.html#732" id="732">n</a> <a class="Symbol" id="734">→</a> <a class="Function" href="Data.Product.Base.html#852" id="736">∃</a> <a class="Symbol" id="738">λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#740" id="740">u</a> <a class="Symbol" id="742">→</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="744">Re</a> <a class="Bound" href="MLTT.Semantics.PER.html#732" id="747">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="749">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#723" id="751">c</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="753">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#740" id="755">u</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="757">×</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="759">Re</a> <a class="Bound" href="MLTT.Semantics.PER.html#732" id="762">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="764">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#725" id="766">c′</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1814" id="769">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#740" id="771">u</a>

<a class="Comment" id="774">-- Two normal domain values are related if they are read back equal</a>
<a id="Top"></a><a class="Function" href="MLTT.Semantics.PER.html#842" id="842">Top</a> <a class="Symbol" id="846">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1914" id="848">Df</a> <a class="Symbol" id="851">→</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1914" id="853">Df</a> <a class="Symbol" id="856">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="858">Set</a>
<a class="Function" href="MLTT.Semantics.PER.html#842" id="862">Top</a> <a class="Bound" href="MLTT.Semantics.PER.html#866" id="866">d</a> <a class="Bound" href="MLTT.Semantics.PER.html#868" id="868">d′</a> <a class="Symbol" id="871">=</a> <a class="Symbol" id="873">∀</a> <a class="Bound" href="MLTT.Semantics.PER.html#875" id="875">n</a> <a class="Symbol" id="877">→</a> <a class="Function" href="Data.Product.Base.html#852" id="879">∃</a> <a class="Symbol" id="881">λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#883" id="883">w</a> <a class="Symbol" id="885">→</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="887">Rf</a> <a class="Bound" href="MLTT.Semantics.PER.html#875" id="890">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="892">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#866" id="894">d</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="896">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#883" id="898">w</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="900">×</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="902">Rf</a> <a class="Bound" href="MLTT.Semantics.PER.html#875" id="905">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="907">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#868" id="909">d′</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#1066" id="912">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#883" id="914">w</a>

<a class="Comment" id="917">-- Two domain values intended to represent types are related if they are read back equal</a>
<a id="TopT"></a><a class="Function" href="MLTT.Semantics.PER.html#1006" id="1006">TopT</a> <a class="Symbol" id="1011">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="1013">D</a> <a class="Symbol" id="1015">→</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="1017">D</a> <a class="Symbol" id="1019">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1021">Set</a>
<a class="Function" href="MLTT.Semantics.PER.html#1006" id="1025">TopT</a> <a class="Bound" href="MLTT.Semantics.PER.html#1030" id="1030">A</a> <a class="Bound" href="MLTT.Semantics.PER.html#1032" id="1032">B</a> <a class="Symbol" id="1034">=</a> <a class="Symbol" id="1036">∀</a> <a class="Bound" href="MLTT.Semantics.PER.html#1038" id="1038">n</a> <a class="Symbol" id="1040">→</a> <a class="Function" href="Data.Product.Base.html#852" id="1042">∃</a> <a class="Symbol" id="1044">λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#1046" id="1046">W</a> <a class="Symbol" id="1048">→</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1050">Rty</a> <a class="Bound" href="MLTT.Semantics.PER.html#1038" id="1054">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1056">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#1030" id="1058">A</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1060">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#1046" id="1062">W</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="1064">×</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1066">Rty</a> <a class="Bound" href="MLTT.Semantics.PER.html#1038" id="1070">n</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1072">-</a> <a class="Bound" href="MLTT.Semantics.PER.html#1032" id="1074">B</a> <a class="Datatype Operator" href="MLTT.Semantics.Readback.html#2546" id="1076">↘</a> <a class="Bound" href="MLTT.Semantics.PER.html#1046" id="1078">W</a>

<a class="Comment" id="1081">-- A PER to model natural number values</a>
<a class="Keyword" id="1121">data</a> <a id="Nat"></a><a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="1126">Nat</a> <a class="Symbol" id="1130">:</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="1132">Ty</a> <a class="Keyword" id="1135">where</a>
  <a id="Nat.ze"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#1143" id="1143">ze</a> <a class="Symbol" id="1146">:</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1204" id="1148">ze</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1151">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1204" id="1153">ze</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1156">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="1158">Nat</a>
  <a id="Nat.su"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#1164" id="1164">su</a> <a class="Symbol" id="1167">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2058" id="1169">a</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1171">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2075" id="1173">b</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1175">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="1177">Nat</a> <a class="Symbol" id="1181">→</a>
       <a class="Comment" id="1190">-----------------</a>
       <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1216" id="1215">su</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2058" id="1218">a</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1220">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1216" id="1222">su</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2075" id="1225">b</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1227">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="1229">Nat</a>
  <a id="Nat.ne"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#1235" id="1235">ne</a> <a class="Symbol" id="1238">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2143" id="1240">c</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1242">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2145" id="1244">c′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1247">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#699" id="1249">Bot</a> <a class="Symbol" id="1253">→</a>
       <a class="Comment" id="1262">--------------------</a>
       <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="1290">↑</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1116" id="1292">N</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2143" id="1294">c</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1296">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="1298">↑</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1116" id="1300">N</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2145" id="1302">c′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1305">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="1307">Nat</a>

<a class="Comment" id="1312">-- Neutral type values are related simply when the neutral values themselves are related by Bot</a>
<a class="Keyword" id="1408">data</a> <a id="Neu"></a><a class="Datatype" href="MLTT.Semantics.PER.html#1413" id="1413">Neu</a> <a class="Symbol" id="1417">:</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="1419">Ty</a> <a class="Keyword" id="1422">where</a>
  <a id="Neu.ne"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#1430" id="1430">ne</a> <a class="Symbol" id="1433">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2143" id="1435">c</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1437">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2145" id="1439">c′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1442">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#699" id="1444">Bot</a> <a class="Symbol" id="1448">→</a>
       <a class="Comment" id="1457">---------------------</a>
       <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="1486">↑</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="1488">A</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2143" id="1490">c</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1492">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="1494">↑</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2094" id="1496">A′</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2145" id="1499">c′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="1502">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1413" id="1504">Neu</a>

<a class="Comment" id="1509">-- Now we move on to defining the PER model. To model the universes, we use</a>
<a class="Comment" id="1585">-- Tarski-style encoding, i.e. for a universe level i, 𝕌 i is a PER relating two</a>
<a class="Comment" id="1666">-- domain values (or "codes") that are types (i.e. elements of the i'th level</a>
<a class="Comment" id="1744">-- universe). If A ≈ B ∈ 𝕌 i, then El i A relates two values that are elements of the</a>
<a class="Comment" id="1830">-- set encoded by A.</a>
<a class="Comment" id="1851">--</a>
<a class="Comment" id="1854">-- Unfortunately, this method only works on paper. In type theory, we must consider</a>
<a class="Comment" id="1938">-- the effect of proof relevance, when defining El, we must take a witness</a>
<a class="Comment" id="2013">-- A≈B : A ≈ B ∈ 𝕌 i instead of just A, and El is defined by recursion on A≈B, while 𝕌</a>
<a class="Comment" id="2100">-- itself is defined inductively, hence a induction-recursion definition.</a>
<a class="Comment" id="2174">--</a>
<a class="Comment" id="2177">-- Finally, we need a well-founded definition in order to handle cumulative</a>
<a class="Comment" id="2253">-- universe. In a non-cumulative setting, we expect that this extra well-founded layer</a>
<a class="Comment" id="2340">-- by the universe level can be taken away, because we can only grow the universe</a>
<a class="Comment" id="2422">-- level by one each time.</a>


<a class="Comment" id="2451">-- Helper definitions for the PER model</a>

<a class="Comment" id="2492">-- The record for relating return types of Π's</a>
<a class="Comment" id="2539">--</a>
<a class="Comment" id="2542">-- Here R is always 𝕌 i, so on paper, it represents ⟦T⟧(ρ) ≈ ⟦T′⟧(ρ′) ∈ 𝕌 i.</a>
<a class="Keyword" id="2619">record</a> <a id="ΠRT"></a><a class="Record" href="MLTT.Semantics.PER.html#2626" id="2626">ΠRT</a> <a class="Bound" href="MLTT.Semantics.PER.html#2630" id="2630">T</a> <a class="Bound" href="MLTT.Semantics.PER.html#2632" id="2632">ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#2634" id="2634">T′</a> <a class="Bound" href="MLTT.Semantics.PER.html#2637" id="2637">ρ′</a> <a class="Bound" href="MLTT.Semantics.PER.html#2640" id="2640">R</a> <a class="Symbol" id="2642">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="2644">Set</a> <a class="Keyword" id="2648">where</a>
  <a class="Keyword" id="2656">field</a>
    <a id="ΠRT.⟦T⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#2666" id="2666">⟦T⟧</a>   <a class="Symbol" id="2672">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="2674">D</a>
    <a id="ΠRT.⟦T′⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#2680" id="2680">⟦T′⟧</a>  <a class="Symbol" id="2686">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="2688">D</a>
    <a id="ΠRT.↘⟦T⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#2694" id="2694">↘⟦T⟧</a>  <a class="Symbol" id="2700">:</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2702">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#2630" id="2704">T</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2706">⟧</a> <a class="Bound" href="MLTT.Semantics.PER.html#2632" id="2708">ρ</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2710">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#2666" id="2712">⟦T⟧</a>
    <a id="ΠRT.↘⟦T′⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#2720" id="2720">↘⟦T′⟧</a> <a class="Symbol" id="2726">:</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2728">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#2634" id="2730">T′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2733">⟧</a> <a class="Bound" href="MLTT.Semantics.PER.html#2637" id="2735">ρ′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="2738">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#2680" id="2740">⟦T′⟧</a>
    <a id="ΠRT.T≈T′"></a><a class="Field" href="MLTT.Semantics.PER.html#2749" id="2749">T≈T′</a>  <a class="Symbol" id="2755">:</a> <a class="Field" href="MLTT.Semantics.PER.html#2666" id="2757">⟦T⟧</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="2761">≈</a> <a class="Field" href="MLTT.Semantics.PER.html#2680" id="2763">⟦T′⟧</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="2768">∈</a> <a class="Bound" href="MLTT.Semantics.PER.html#2640" id="2770">R</a>


<a class="Comment" id="2774">-- The record for relating values of type Π A T ρ</a>
<a class="Comment" id="2824">--</a>
<a class="Comment" id="2827">-- Here R is always El i ⟦T⟧(ρ ↦ a), so on paper, it represents f a ≈ f′ a′ ∈ El i ⟦T⟧(ρ ↦ a).</a>
<a class="Keyword" id="2922">record</a> <a id="Π̂"></a><a class="Record" href="MLTT.Semantics.PER.html#2929" id="2929">Π̂</a> <a class="Symbol" id="2932">(</a><a class="Bound" href="MLTT.Semantics.PER.html#2933" id="2933">f</a> <a class="Bound" href="MLTT.Semantics.PER.html#2935" id="2935">a</a> <a class="Bound" href="MLTT.Semantics.PER.html#2937" id="2937">f′</a> <a class="Bound" href="MLTT.Semantics.PER.html#2940" id="2940">a′</a> <a class="Symbol" id="2943">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="2945">D</a><a class="Symbol" id="2946">)</a> <a class="Bound" href="MLTT.Semantics.PER.html#2948" id="2948">R</a> <a class="Symbol" id="2950">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="2952">Set</a> <a class="Keyword" id="2956">where</a>
  <a class="Keyword" id="2964">field</a>
    <a id="Π̂.fa"></a><a class="Field" href="MLTT.Semantics.PER.html#2974" id="2974">fa</a>     <a class="Symbol" id="2981">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="2983">D</a>
    <a id="Π̂.fa′"></a><a class="Field" href="MLTT.Semantics.PER.html#2989" id="2989">fa′</a>    <a class="Symbol" id="2996">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="2998">D</a>
    <a id="Π̂.↘fa"></a><a class="Field" href="MLTT.Semantics.PER.html#3004" id="3004">↘fa</a>    <a class="Symbol" id="3011">:</a> <a class="Bound" href="MLTT.Semantics.PER.html#2933" id="3013">f</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#497" id="3015">∙</a> <a class="Bound" href="MLTT.Semantics.PER.html#2935" id="3017">a</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#497" id="3019">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#2974" id="3021">fa</a>
    <a id="Π̂.↘fa′"></a><a class="Field" href="MLTT.Semantics.PER.html#3028" id="3028">↘fa′</a>   <a class="Symbol" id="3035">:</a> <a class="Bound" href="MLTT.Semantics.PER.html#2937" id="3037">f′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#497" id="3040">∙</a> <a class="Bound" href="MLTT.Semantics.PER.html#2940" id="3042">a′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#497" id="3045">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#2989" id="3047">fa′</a>
    <a id="Π̂.fa≈fa′"></a><a class="Field" href="MLTT.Semantics.PER.html#3055" id="3055">fa≈fa′</a> <a class="Symbol" id="3062">:</a> <a class="Field" href="MLTT.Semantics.PER.html#2974" id="3064">fa</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3067">≈</a> <a class="Field" href="MLTT.Semantics.PER.html#2989" id="3069">fa′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3073">∈</a> <a class="Bound" href="MLTT.Semantics.PER.html#2948" id="3075">R</a>

<a class="Keyword" id="3078">module</a> <a id="PERDef"></a><a class="Module" href="MLTT.Semantics.PER.html#3085" id="3085">PERDef</a> <a class="Symbol" id="3092">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3093" id="3093">i</a> <a class="Symbol" id="3095">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#203" id="3097">ℕ</a><a class="Symbol" id="3098">)</a> <a class="Symbol" id="3100">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3101" id="3101">Univ</a> <a class="Symbol" id="3106">:</a> <a class="Symbol" id="3108">∀</a> <a class="Symbol" id="3110">{</a><a class="Bound" href="MLTT.Semantics.PER.html#3111" id="3111">j</a><a class="Symbol" id="3112">}</a> <a class="Symbol" id="3114">→</a> <a class="Bound" href="MLTT.Semantics.PER.html#3111" id="3116">j</a> <a class="Function Operator" href="Data.Nat.Base.html#1801" id="3118">&lt;</a> <a class="Bound" href="MLTT.Semantics.PER.html#3093" id="3120">i</a> <a class="Symbol" id="3122">→</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="3124">Ty</a><a class="Symbol" id="3126">)</a> <a class="Keyword" id="3128">where</a>

  <a class="Keyword" id="3137">mutual</a>

    <a class="Keyword" id="3149">data</a> <a id="PERDef.𝕌"></a><a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3154">𝕌</a> <a class="Symbol" id="3156">:</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="3158">Ty</a> <a class="Keyword" id="3161">where</a>
      <a id="PERDef.𝕌.ne"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3173" id="3173">ne</a> <a class="Symbol" id="3176">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2161" id="3178">C</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3180">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2163" id="3182">C′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3185">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#699" id="3187">Bot</a> <a class="Symbol" id="3191">→</a>
           <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="3204">↑</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="3206">A</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2161" id="3208">C</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3210">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1268" id="3212">↑</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2094" id="3214">A′</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2163" id="3217">C′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3220">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3222">𝕌</a>
      <a id="PERDef.𝕌.N"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3230" id="3230">N</a>  <a class="Symbol" id="3233">:</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1116" id="3235">N</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3237">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1116" id="3239">N</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3241">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3243">𝕌</a>
      <a id="PERDef.𝕌.U"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3251" id="3251">U</a>  <a class="Symbol" id="3254">:</a> <a class="Symbol" id="3256">∀</a> <a class="Symbol" id="3258">{</a><a class="Bound" href="MLTT.Semantics.PER.html#3259" id="3259">j</a> <a class="Bound" href="MLTT.Semantics.PER.html#3261" id="3261">j′</a><a class="Symbol" id="3263">}</a> <a class="Symbol" id="3265">→</a>
           <a class="Bound" href="MLTT.Semantics.PER.html#3259" id="3278">j</a> <a class="Function Operator" href="Data.Nat.Base.html#1801" id="3280">&lt;</a> <a class="Bound" href="MLTT.Semantics.PER.html#3093" id="3282">i</a> <a class="Symbol" id="3284">→</a>            <a class="Comment" id="3297">-- cumulativity only requires j &lt; i</a>
           <a class="Bound" href="MLTT.Semantics.PER.html#3259" id="3344">j</a> <a class="Datatype Operator" href="Agda.Builtin.Equality.html#150" id="3346">≡</a> <a class="Bound" href="MLTT.Semantics.PER.html#3261" id="3348">j′</a> <a class="Symbol" id="3351">→</a>           <a class="Comment" id="3363">-- keeping equality here helps with --without-K settings</a>
           <a class="Comment" id="3431">--------------</a>
           <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1188" id="3457">U</a> <a class="Bound" href="MLTT.Semantics.PER.html#3259" id="3459">j</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3461">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1188" id="3463">U</a> <a class="Bound" href="MLTT.Semantics.PER.html#3261" id="3465">j′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3468">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3470">𝕌</a>
      <a id="PERDef.𝕌.Π"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3478" id="3478">Π</a>  <a class="Symbol" id="3481">:</a> <a class="Symbol" id="3483">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3484" id="3484">iA</a> <a class="Symbol" id="3487">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="3489">A</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3491">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2094" id="3493">A′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3496">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3498">𝕌</a><a class="Symbol" id="3499">)</a> <a class="Symbol" id="3501">→</a>
           <a class="Symbol" id="3514">(∀</a> <a class="Symbol" id="3517">{</a><a class="Bound" href="MLTT.Semantics.PER.html#3518" id="3518">a</a> <a class="Bound" href="MLTT.Semantics.PER.html#3520" id="3520">a′</a><a class="Symbol" id="3522">}</a> <a class="Symbol" id="3524">→</a>
              <a class="Bound" href="MLTT.Semantics.PER.html#3518" id="3540">a</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3542">≈</a> <a class="Bound" href="MLTT.Semantics.PER.html#3520" id="3544">a′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3547">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3549">El</a> <a class="Bound" href="MLTT.Semantics.PER.html#3484" id="3552">iA</a> <a class="Symbol" id="3555">→</a>
              <a class="Record" href="MLTT.Semantics.PER.html#2626" id="3571">ΠRT</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="3575">T</a> <a class="Symbol" id="3577">(</a><a class="Generalizable" href="MLTT.Semantics.Domain.html#2197" id="3578">ρ</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2417" id="3580">↦</a> <a class="Bound" href="MLTT.Semantics.PER.html#3518" id="3582">a</a><a class="Symbol" id="3583">)</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2069" id="3585">T′</a> <a class="Symbol" id="3588">(</a><a class="Generalizable" href="MLTT.Semantics.Domain.html#2199" id="3589">ρ′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2417" id="3592">↦</a> <a class="Bound" href="MLTT.Semantics.PER.html#3520" id="3594">a′</a><a class="Symbol" id="3596">)</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3598">𝕌</a><a class="Symbol" id="3599">)</a> <a class="Symbol" id="3601">→</a>
           <a class="Comment" id="3614">-------------------------</a>
           <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1128" id="3651">Π</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="3653">A</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="3655">T</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2197" id="3657">ρ</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3659">≈</a> <a class="InductiveConstructor" href="MLTT.Semantics.Domain.html#1128" id="3661">Π</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2094" id="3663">A′</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2069" id="3666">T′</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2199" id="3669">ρ′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3672">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3674">𝕌</a>


    <a id="PERDef.El"></a><a class="Function" href="MLTT.Semantics.PER.html#3682" id="3682">El</a> <a class="Symbol" id="3685">:</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="3687">A</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3689">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2109" id="3691">B</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3693">∈</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="3695">𝕌</a> <a class="Symbol" id="3697">→</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="3699">Ty</a>
    <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3706">El</a> <a class="Symbol" id="3709">(</a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3173" id="3710">ne</a> <a class="Bound" href="MLTT.Semantics.PER.html#3713" id="3713">C≈C′</a><a class="Symbol" id="3717">)</a>  <a class="Symbol" id="3720">=</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1413" id="3722">Neu</a>
    <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3730">El</a> <a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3230" id="3733">N</a>          <a class="Symbol" id="3744">=</a> <a class="Datatype" href="MLTT.Semantics.PER.html#1126" id="3746">Nat</a>
    <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3754">El</a> <a class="Symbol" id="3757">(</a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3251" id="3758">U</a> <a class="Bound" href="MLTT.Semantics.PER.html#3760" id="3760">j&lt;i</a> <a class="Bound" href="MLTT.Semantics.PER.html#3764" id="3764">eq</a><a class="Symbol" id="3766">)</a> <a class="Symbol" id="3768">=</a> <a class="Bound" href="MLTT.Semantics.PER.html#3101" id="3770">Univ</a> <a class="Bound" href="MLTT.Semantics.PER.html#3760" id="3775">j&lt;i</a>
    <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3783">El</a> <a class="Symbol" id="3786">(</a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#3478" id="3787">Π</a> <a class="Bound" href="MLTT.Semantics.PER.html#3789" id="3789">iA</a> <a class="Bound" href="MLTT.Semantics.PER.html#3792" id="3792">RT</a><a class="Symbol" id="3794">)</a>  <a class="Symbol" id="3797">=</a> <a class="Symbol" id="3799">λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#3801" id="3801">f</a> <a class="Bound" href="MLTT.Semantics.PER.html#3803" id="3803">f′</a> <a class="Symbol" id="3806">→</a> <a class="Symbol" id="3808">∀</a> <a class="Symbol" id="3810">{</a><a class="Bound" href="MLTT.Semantics.PER.html#3811" id="3811">a</a> <a class="Bound" href="MLTT.Semantics.PER.html#3813" id="3813">b</a><a class="Symbol" id="3814">}</a> <a class="Symbol" id="3816">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3817" id="3817">inp</a> <a class="Symbol" id="3821">:</a> <a class="Bound" href="MLTT.Semantics.PER.html#3811" id="3823">a</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3825">≈</a> <a class="Bound" href="MLTT.Semantics.PER.html#3813" id="3827">b</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="3829">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#3682" id="3831">El</a> <a class="Bound" href="MLTT.Semantics.PER.html#3789" id="3834">iA</a><a class="Symbol" id="3836">)</a> <a class="Symbol" id="3838">→</a> <a class="Record" href="MLTT.Semantics.PER.html#2929" id="3840">Π̂</a> <a class="Symbol" id="3843">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3801" id="3844">f</a><a class="Symbol" id="3845">)</a> <a class="Bound" href="MLTT.Semantics.PER.html#3811" id="3847">a</a> <a class="Symbol" id="3849">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3803" id="3850">f′</a><a class="Symbol" id="3852">)</a> <a class="Bound" href="MLTT.Semantics.PER.html#3813" id="3854">b</a> <a class="Symbol" id="3856">(</a><a class="Function" href="MLTT.Semantics.PER.html#3682" id="3857">El</a> <a class="Symbol" id="3860">(</a><a class="Field" href="MLTT.Semantics.PER.html#2749" id="3861">ΠRT.T≈T′</a> <a class="Symbol" id="3870">(</a><a class="Bound" href="MLTT.Semantics.PER.html#3792" id="3871">RT</a> <a class="Bound" href="MLTT.Semantics.PER.html#3817" id="3874">inp</a><a class="Symbol" id="3877">)))</a>

<a class="Comment" id="3882">-- Now we tie the knot and expose 𝕌 and El in the wild.</a>
<a id="𝕌-wellfounded"></a><a class="Function" href="MLTT.Semantics.PER.html#3938" id="3938">𝕌-wellfounded</a> <a class="Symbol" id="3952">:</a> <a class="Symbol" id="3954">∀</a> <a class="Bound" href="MLTT.Semantics.PER.html#3956" id="3956">i</a> <a class="Symbol" id="3958">{</a><a class="Bound" href="MLTT.Semantics.PER.html#3959" id="3959">j</a><a class="Symbol" id="3960">}</a> <a class="Symbol" id="3962">→</a> <a class="Bound" href="MLTT.Semantics.PER.html#3959" id="3964">j</a> <a class="Function Operator" href="Data.Nat.Base.html#1801" id="3966">&lt;</a> <a class="Bound" href="MLTT.Semantics.PER.html#3956" id="3968">i</a> <a class="Symbol" id="3970">→</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="3972">Ty</a>
<a class="Function" href="MLTT.Semantics.PER.html#3938" id="3975">𝕌-wellfounded</a> <a class="DottedPattern Symbol" id="3989">.(</a><a class="DottedPattern InductiveConstructor" href="Agda.Builtin.Nat.html#234" id="3991">suc</a> <a class="DottedPattern Symbol" id="3995">_)</a> <a class="Symbol" id="3998">(</a><a class="InductiveConstructor" href="Data.Nat.Base.html#1756" id="3999">s≤s</a> <a class="Symbol" id="4003">{</a><a class="Bound" href="MLTT.Semantics.PER.html#4004" id="4004">j</a><a class="Symbol" id="4005">}</a> <a class="Bound" href="MLTT.Semantics.PER.html#4007" id="4007">j&lt;i</a><a class="Symbol" id="4010">)</a> <a class="Symbol" id="4012">=</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="4014">PERDef.𝕌</a> <a class="Bound" href="MLTT.Semantics.PER.html#4004" id="4023">j</a> <a class="Symbol" id="4025">(λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#4028" id="4028">j′&lt;j</a> <a class="Symbol" id="4033">→</a> <a class="Function" href="MLTT.Semantics.PER.html#3938" id="4035">𝕌-wellfounded</a> <a class="Symbol" id="4049">_</a> <a class="Symbol" id="4051">(</a><a class="Function" href="Data.Nat.Properties.html#5425" id="4052">≤-trans</a> <a class="Bound" href="MLTT.Semantics.PER.html#4028" id="4060">j′&lt;j</a> <a class="Bound" href="MLTT.Semantics.PER.html#4007" id="4065">j&lt;i</a><a class="Symbol" id="4068">))</a>

<a class="Keyword" id="4072">private</a>
  <a class="Keyword" id="4082">module</a> <a id="M"></a><a class="Module" href="MLTT.Semantics.PER.html#4089" id="4089">M</a> <a class="Bound" href="MLTT.Semantics.PER.html#4091" id="4091">i</a> <a class="Symbol" id="4093">=</a> <a class="Module" href="MLTT.Semantics.PER.html#3085" id="4095">PERDef</a> <a class="Bound" href="MLTT.Semantics.PER.html#4091" id="4102">i</a> <a class="Symbol" id="4104">(</a><a class="Function" href="MLTT.Semantics.PER.html#3938" id="4105">𝕌-wellfounded</a> <a class="Bound" href="MLTT.Semantics.PER.html#4091" id="4119">i</a><a class="Symbol" id="4120">)</a>

<a class="Keyword" id="4123">open</a> <a class="Module" href="MLTT.Semantics.PER.html#4089" id="4128">M</a> <a class="Keyword" id="4130">hiding</a> <a class="Symbol" id="4137">(</a><a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="4138">𝕌</a><a class="Symbol" id="4139">;</a> <a class="Function" href="MLTT.Semantics.PER.html#3682" id="4141">El</a><a class="Symbol" id="4143">)</a> <a class="Keyword" id="4145">public</a>

<a class="Keyword" id="4153">pattern</a> <a id="U′"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#4161" id="4161">U′</a> <a class="Bound" href="MLTT.Semantics.PER.html#4172" id="4164">i&lt;j</a> <a class="Symbol" id="4168">=</a> <a class="InductiveConstructor" id="4170">U</a> <a class="Bound" href="MLTT.Semantics.PER.html#4172" id="4172">i&lt;j</a> <a class="InductiveConstructor" href="Agda.Builtin.Equality.html#207" id="4176">refl</a>

<a id="𝕌"></a><a class="Function" href="MLTT.Semantics.PER.html#4182" id="4182">𝕌</a> <a class="Symbol" id="4184">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#203" id="4186">ℕ</a> <a class="Symbol" id="4188">→</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="4190">Ty</a>
<a class="Function" href="MLTT.Semantics.PER.html#4182" id="4193">𝕌</a> <a class="Symbol" id="4195">=</a> <a class="Datatype" href="MLTT.Semantics.PER.html#3154" id="4197">M.𝕌</a>

<a class="Comment" id="4202">-- cannot omit `i`. not sure why</a>
<a id="El"></a><a class="Function" href="MLTT.Semantics.PER.html#4235" id="4235">El</a> <a class="Symbol" id="4238">:</a> <a class="Symbol" id="4240">∀</a> <a class="Bound" href="MLTT.Semantics.PER.html#4242" id="4242">i</a> <a class="Symbol" id="4244">→</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2092" id="4246">A</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="4248">≈</a> <a class="Generalizable" href="MLTT.Semantics.Domain.html#2109" id="4250">B</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="4252">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#4182" id="4254">𝕌</a> <a class="Bound" href="MLTT.Semantics.PER.html#4242" id="4256">i</a> <a class="Symbol" id="4258">→</a> <a class="Function" href="MLTT.Semantics.PER.html#580" id="4260">Ty</a>
<a class="Function" href="MLTT.Semantics.PER.html#4235" id="4263">El</a> <a class="Bound" href="MLTT.Semantics.PER.html#4266" id="4266">i</a> <a class="Symbol" id="4268">=</a> <a class="Function" href="MLTT.Semantics.PER.html#3682" id="4270">M.El</a> <a class="Bound" href="MLTT.Semantics.PER.html#4266" id="4275">i</a>


<a class="Comment" id="4279">-- On paper, it represents ⟦T⟧(ρ) ≈ ⟦T′⟧(ρ′) ∈ 𝕌 i.</a>
<a class="Keyword" id="4331">record</a> <a id="RelTyp"></a><a class="Record" href="MLTT.Semantics.PER.html#4338" id="4338">RelTyp</a> <a class="Bound" href="MLTT.Semantics.PER.html#4345" id="4345">i</a> <a class="Bound" href="MLTT.Semantics.PER.html#4347" id="4347">T</a> <a class="Bound" href="MLTT.Semantics.PER.html#4349" id="4349">ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#4351" id="4351">T′</a> <a class="Bound" href="MLTT.Semantics.PER.html#4354" id="4354">ρ′</a> <a class="Symbol" id="4357">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="4359">Set</a> <a class="Keyword" id="4363">where</a>
  <a class="Keyword" id="4371">field</a>
    <a id="RelTyp.⟦T⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#4381" id="4381">⟦T⟧</a>   <a class="Symbol" id="4387">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="4389">D</a>
    <a id="RelTyp.⟦T′⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#4395" id="4395">⟦T′⟧</a>  <a class="Symbol" id="4401">:</a> <a class="Datatype" href="MLTT.Semantics.Domain.html#1098" id="4403">D</a>
    <a id="RelTyp.↘⟦T⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#4409" id="4409">↘⟦T⟧</a>  <a class="Symbol" id="4415">:</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4417">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#4347" id="4419">T</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4421">⟧</a> <a class="Bound" href="MLTT.Semantics.PER.html#4349" id="4423">ρ</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4425">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#4381" id="4427">⟦T⟧</a>
    <a id="RelTyp.↘⟦T′⟧"></a><a class="Field" href="MLTT.Semantics.PER.html#4435" id="4435">↘⟦T′⟧</a> <a class="Symbol" id="4441">:</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4443">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#4351" id="4445">T′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4448">⟧</a> <a class="Bound" href="MLTT.Semantics.PER.html#4354" id="4450">ρ′</a> <a class="Datatype Operator" href="MLTT.Semantics.Evaluation.html#1168" id="4453">↘</a> <a class="Field" href="MLTT.Semantics.PER.html#4395" id="4455">⟦T′⟧</a>
    <a id="RelTyp.T≈T′"></a><a class="Field" href="MLTT.Semantics.PER.html#4464" id="4464">T≈T′</a>  <a class="Symbol" id="4470">:</a> <a class="Field" href="MLTT.Semantics.PER.html#4381" id="4472">⟦T⟧</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="4476">≈</a> <a class="Field" href="MLTT.Semantics.PER.html#4395" id="4478">⟦T′⟧</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="4483">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#4182" id="4485">𝕌</a> <a class="Bound" href="MLTT.Semantics.PER.html#4345" id="4487">i</a>

<a class="Comment" id="4490">-- PER model for context stacks and global evaluation environments</a>
<a class="Comment" id="4557">--</a>
<a class="Comment" id="4560">-- Again we use induction-recursion here in order to model related context stacks and</a>
<a class="Comment" id="4646">-- related evaluation environments.</a>
<a class="Comment" id="4682">--</a>
<a class="Comment" id="4685">-- ⊨ Γ ≈ Δ means that Γ and Δ are two related contexts so that every</a>
<a class="Comment" id="4754">-- corresponding types in them are related after evaluation. The PER for</a>
<a class="Comment" id="4827">-- evaluation environments is defined recursively on ⊨ Γ ≈ Δ. On paper, we write</a>
<a class="Comment" id="4908">--</a>
<a class="Comment" id="4911">--       ρ ≈ ρ′ ∈ ⟦ Γ ⟧</a>
<a class="Comment" id="4935">--</a>
<a class="Comment" id="4938">-- where ⊨ Γ ≈ Γ, but this again will not work in Agda due to proof relevance. For</a>
<a class="Comment" id="5021">-- this reason, we must prove some extra properties.</a>
<a class="Keyword" id="5074">infix</a> <a class="Number" id="5080">4</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5082">⊨_≈_</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5527" id="5087">⊨_</a>
<a class="Keyword" id="5090">mutual</a>
  <a class="Keyword" id="5099">data</a> <a id="⊨_≈_"></a><a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5104">⊨_≈_</a> <a class="Symbol" id="5109">:</a> <a class="Function" href="MLTT.Statics.Syntax.html#1162" id="5111">Ctx</a> <a class="Symbol" id="5115">→</a> <a class="Function" href="MLTT.Statics.Syntax.html#1162" id="5117">Ctx</a> <a class="Symbol" id="5121">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="5123">Set</a> <a class="Keyword" id="5127">where</a>
    <a id="⊨_≈_.[]-≈"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#5137" id="5137">[]-≈</a>   <a class="Symbol" id="5144">:</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5146">⊨</a> <a class="InductiveConstructor" href="Agda.Builtin.List.html#184" id="5148">[]</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5151">≈</a> <a class="InductiveConstructor" href="Agda.Builtin.List.html#184" id="5153">[]</a>
    <a id="⊨_≈_.∷-cong"></a><a class="InductiveConstructor" href="MLTT.Semantics.PER.html#5160" id="5160">∷-cong</a> <a class="Symbol" id="5167">:</a> <a class="Symbol" id="5169">∀</a> <a class="Symbol" id="5171">{</a><a class="Bound" href="MLTT.Semantics.PER.html#5172" id="5172">i</a><a class="Symbol" id="5173">}</a> <a class="Symbol" id="5175">→</a>
             <a class="Symbol" id="5190">(</a><a class="Bound" href="MLTT.Semantics.PER.html#5191" id="5191">Γ≈Δ</a> <a class="Symbol" id="5195">:</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5197">⊨</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="5199">Γ</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5201">≈</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2099" id="5203">Δ</a><a class="Symbol" id="5204">)</a> <a class="Symbol" id="5206">→</a>
             <a class="Symbol" id="5221">(∀</a> <a class="Symbol" id="5224">{</a><a class="Bound" href="MLTT.Semantics.PER.html#5225" id="5225">ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5227" id="5227">ρ′</a><a class="Symbol" id="5229">}</a> <a class="Symbol" id="5231">→</a> <a class="Bound" href="MLTT.Semantics.PER.html#5225" id="5233">ρ</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5235">≈</a> <a class="Bound" href="MLTT.Semantics.PER.html#5227" id="5237">ρ′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5240">∈</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5242">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#5191" id="5244">Γ≈Δ</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5248">⟧ρ</a> <a class="Symbol" id="5251">→</a> <a class="Record" href="MLTT.Semantics.PER.html#4338" id="5253">RelTyp</a> <a class="Bound" href="MLTT.Semantics.PER.html#5172" id="5260">i</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="5262">T</a> <a class="Bound" href="MLTT.Semantics.PER.html#5225" id="5264">ρ</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2069" id="5266">T′</a> <a class="Bound" href="MLTT.Semantics.PER.html#5227" id="5269">ρ′</a><a class="Symbol" id="5271">)</a> <a class="Symbol" id="5273">→</a>
             <a class="Comment" id="5288">----------------</a>
             <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5318">⊨</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="5320">T</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.List.html#199" id="5322">∷</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="5324">Γ</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5326">≈</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2069" id="5328">T′</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.List.html#199" id="5331">∷</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2099" id="5333">Δ</a>

  <a id="⟦_⟧ρ"></a><a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5338">⟦_⟧ρ</a> <a class="Symbol" id="5343">:</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5345">⊨</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="5347">Γ</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5349">≈</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2099" id="5351">Δ</a> <a class="Symbol" id="5353">→</a> <a class="Function" href="MLTT.Semantics.PER.html#604" id="5355">Ev</a>
  <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5360">⟦</a> <a class="InductiveConstructor" href="MLTT.Semantics.PER.html#5137" id="5362">[]-≈</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5367">⟧ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5370" id="5370">ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5372" id="5372">ρ′</a>           <a class="Symbol" id="5385">=</a> <a class="Record" href="Agda.Builtin.Unit.html#175" id="5387">⊤</a>
  <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5391">⟦</a> <a class="InductiveConstructor" href="MLTT.Semantics.PER.html#5160" id="5393">∷-cong</a> <a class="Bound" href="MLTT.Semantics.PER.html#5400" id="5400">Γ≈Δ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5404" id="5404">rel</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5408">⟧ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5411" id="5411">ρ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5413" id="5413">ρ′</a> <a class="Symbol" id="5416">=</a> <a class="Record" href="Agda.Builtin.Sigma.html#165" id="5418">Σ</a> <a class="Symbol" id="5420">(</a><a class="Function" href="MLTT.Semantics.Domain.html#2544" id="5421">drop</a> <a class="Bound" href="MLTT.Semantics.PER.html#5411" id="5426">ρ</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5428">≈</a> <a class="Function" href="MLTT.Semantics.Domain.html#2544" id="5430">drop</a> <a class="Bound" href="MLTT.Semantics.PER.html#5413" id="5435">ρ′</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5438">∈</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5440">⟦</a> <a class="Bound" href="MLTT.Semantics.PER.html#5400" id="5442">Γ≈Δ</a> <a class="Function Operator" href="MLTT.Semantics.PER.html#5338" id="5446">⟧ρ</a><a class="Symbol" id="5448">)</a> <a class="Symbol" id="5450">λ</a> <a class="Bound" href="MLTT.Semantics.PER.html#5452" id="5452">ρ≈ρ′</a> <a class="Symbol" id="5457">→</a> <a class="Keyword" id="5459">let</a> <a class="Keyword" id="5463">open</a> <a class="Module" href="MLTT.Semantics.PER.html#4338" id="5468">RelTyp</a> <a class="Symbol" id="5475">(</a><a class="Bound" href="MLTT.Semantics.PER.html#5404" id="5476">rel</a> <a class="Bound" href="MLTT.Semantics.PER.html#5452" id="5480">ρ≈ρ′</a><a class="Symbol" id="5484">)</a> <a class="Keyword" id="5486">in</a> <a class="Function" href="MLTT.Semantics.Domain.html#2621" id="5489">lookup</a> <a class="Bound" href="MLTT.Semantics.PER.html#5411" id="5496">ρ</a> <a class="Number" id="5498">0</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5500">≈</a> <a class="Function" href="MLTT.Semantics.Domain.html#2621" id="5502">lookup</a> <a class="Bound" href="MLTT.Semantics.PER.html#5413" id="5509">ρ′</a> <a class="Number" id="5512">0</a> <a class="Function Operator" href="MLTT.Semantics.Domain.html#2707" id="5514">∈</a> <a class="Function" href="MLTT.Semantics.PER.html#4235" id="5516">El</a> <a class="Symbol" id="5519">_</a> <a class="Function" href="MLTT.Semantics.PER.html#4464" id="5521">T≈T′</a>

<a id="⊨_"></a><a class="Function Operator" href="MLTT.Semantics.PER.html#5527" id="5527">⊨_</a> <a class="Symbol" id="5530">:</a> <a class="Function" href="MLTT.Statics.Syntax.html#1162" id="5532">Ctx</a> <a class="Symbol" id="5536">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="5538">Set</a>
<a class="Function Operator" href="MLTT.Semantics.PER.html#5527" id="5542">⊨</a> <a class="Bound" href="MLTT.Semantics.PER.html#5544" id="5544">Γ</a> <a class="Symbol" id="5546">=</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5548">⊨</a> <a class="Bound" href="MLTT.Semantics.PER.html#5544" id="5550">Γ</a> <a class="Datatype Operator" href="MLTT.Semantics.PER.html#5104" id="5552">≈</a> <a class="Bound" href="MLTT.Semantics.PER.html#5544" id="5554">Γ</a>
</pre></div></body></html>