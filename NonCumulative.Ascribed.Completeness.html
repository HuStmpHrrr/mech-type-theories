<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>NonCumulative.Ascribed.Completeness</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Symbol" id="1">{-#</a> <a class="Keyword" id="5">OPTIONS</a> <a class="Pragma" id="13">--without-K</a> <a class="Pragma" id="25">--safe</a> <a class="Symbol" id="32">#-}</a>

<a class="Keyword" id="37">open</a> <a class="Keyword" id="42">import</a> <a class="Module" href="Level.html" id="49">Level</a>
<a class="Keyword" id="55">open</a> <a class="Keyword" id="60">import</a> <a class="Module" href="Axiom.Extensionality.Propositional.html" id="67">Axiom.Extensionality.Propositional</a>

<a class="Comment" id="103">-- Proof of the completeness theorem</a>
<a class="Comment" id="140">--</a>
<a class="Comment" id="143">-- If two terms are equivalent, then they have equal βη normal form.</a>
<a class="Keyword" id="212">module</a> <a class="Module" href="NonCumulative.Ascribed.Completeness.html" id="219">NonCumulative.Ascribed.Completeness</a> <a class="Symbol" id="255">(</a><a class="Bound" href="NonCumulative.Ascribed.Completeness.html#256" id="256">fext</a> <a class="Symbol" id="261">:</a> <a class="Function" href="Axiom.Extensionality.Propositional.html#750" id="263">Extensionality</a> <a class="Function" href="Level.html#521" id="278">0ℓ</a> <a class="Symbol" id="281">(</a><a class="Primitive" href="Agda.Primitive.html#931" id="282">suc</a> <a class="Function" href="Level.html#521" id="286">0ℓ</a><a class="Symbol" id="288">))</a> <a class="Keyword" id="291">where</a>

<a class="Keyword" id="298">open</a> <a class="Keyword" id="303">import</a> <a class="Module" href="Lib.html" id="310">Lib</a>
<a class="Keyword" id="314">open</a> <a class="Keyword" id="319">import</a> <a class="Module" href="NonCumulative.Ascribed.Completeness.Fundamental.html" id="326">NonCumulative.Ascribed.Completeness.Fundamental</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#256" id="374">fext</a>
<a class="Keyword" id="379">open</a> <a class="Keyword" id="384">import</a> <a class="Module" href="NonCumulative.Ascribed.Semantics.Domain.html" id="391">NonCumulative.Ascribed.Semantics.Domain</a>
<a class="Keyword" id="431">open</a> <a class="Keyword" id="436">import</a> <a class="Module" href="NonCumulative.Ascribed.Semantics.Evaluation.html" id="443">NonCumulative.Ascribed.Semantics.Evaluation</a>
<a class="Keyword" id="487">open</a> <a class="Keyword" id="492">import</a> <a class="Module" href="NonCumulative.Ascribed.Semantics.Properties.PER.html" id="499">NonCumulative.Ascribed.Semantics.Properties.PER</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#256" id="547">fext</a>
<a class="Keyword" id="552">open</a> <a class="Keyword" id="557">import</a> <a class="Module" href="NonCumulative.Ascribed.Semantics.Readback.html" id="564">NonCumulative.Ascribed.Semantics.Readback</a>
<a class="Keyword" id="606">open</a> <a class="Keyword" id="611">import</a> <a class="Module" href="NonCumulative.Ascribed.Semantics.Realizability.html" id="618">NonCumulative.Ascribed.Semantics.Realizability</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#256" id="665">fext</a>
<a class="Keyword" id="670">open</a> <a class="Keyword" id="675">import</a> <a class="Module" href="NonCumulative.Ascribed.Statics.Full.html" id="682">NonCumulative.Ascribed.Statics.Full</a>

<a id="completeness"></a><a class="Function" href="NonCumulative.Ascribed.Completeness.html#719" id="719">completeness</a> <a class="Symbol" id="732">:</a> <a class="Symbol" id="734">∀</a> <a class="Symbol" id="736">{</a><a class="Bound" href="NonCumulative.Ascribed.Completeness.html#737" id="737">i</a><a class="Symbol" id="738">}</a> <a class="Symbol" id="740">→</a>
               <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2836" id="757">Γ</a> <a class="Datatype Operator" href="NonCumulative.Ascribed.Statics.Full.html#4105" id="759">⊢</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2940" id="761">t</a> <a class="Datatype Operator" href="NonCumulative.Ascribed.Statics.Full.html#4105" id="763">≈</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2942" id="765">t′</a> <a class="Datatype Operator" href="NonCumulative.Ascribed.Statics.Full.html#4105" id="768">∶[</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#737" id="771">i</a> <a class="Datatype Operator" href="NonCumulative.Ascribed.Statics.Full.html#4105" id="773">]</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2884" id="775">T</a> <a class="Symbol" id="777">→</a>
               <a class="Function" href="Data.Product.Base.html#852" id="794">∃</a> <a class="Symbol" id="796">λ</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#798" id="798">w</a> <a class="Symbol" id="800">→</a> <a class="Record" href="NonCumulative.Ascribed.Semantics.Readback.html#6154" id="802">NbE</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2836" id="806">Γ</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2940" id="808">t</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#737" id="810">i</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2884" id="812">T</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#798" id="814">w</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="816">×</a> <a class="Record" href="NonCumulative.Ascribed.Semantics.Readback.html#6154" id="818">NbE</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2836" id="822">Γ</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2942" id="824">t′</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#737" id="827">i</a> <a class="Generalizable" href="NonCumulative.Ascribed.Statics.Syntax.html#2884" id="829">T</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#798" id="831">w</a>
<a class="Function" href="NonCumulative.Ascribed.Completeness.html#719" id="833">completeness</a> <a class="Symbol" id="846">{</a><a class="Bound" href="NonCumulative.Ascribed.Completeness.html#847" id="847">Γ</a><a class="Symbol" id="848">}</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#850" id="850">t≈t′</a>
  <a class="Keyword" id="857">with</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#862" id="862">⊨Γ</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="865">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#867" id="867">t≈t′</a> ← <a class="Function" href="NonCumulative.Ascribed.Completeness.Fundamental.html#2895" id="874">fundamental-t≈t′</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#850" id="891">t≈t′</a>
    <a class="Keyword" id="900">with</a> <a class="Symbol" id="905">_</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="907">,</a> <a class="Symbol" id="909">_</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="911">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#913" id="913">↘ρ</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="916">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#918" id="918">↘ρ′</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="922">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#924" id="924">ρ≈ρ′</a> ← <a class="Function" href="NonCumulative.Ascribed.Semantics.Properties.PER.html#31162" id="931">InitEnvs-related</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#862" id="948">⊨Γ</a>
      <a class="Keyword" id="957">with</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#867" id="962">t≈t′</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#924" id="967">ρ≈ρ′</a>
<a class="Symbol" id="972">...</a>      <a class="Symbol" id="981">|</a> <a class="Keyword" id="983">record</a> <a class="Symbol" id="990">{</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.PER.html#6539" id="992">⟦T⟧</a> <a class="Symbol" id="996">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#998" id="998">⟦T⟧</a> <a class="Symbol" id="1002">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.PER.html#6553" id="1004">⟦T′⟧</a> <a class="Symbol" id="1009">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1011" id="1011">⟦T′⟧</a> <a class="Symbol" id="1016">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.PER.html#6567" id="1018">↘⟦T⟧</a> <a class="Symbol" id="1023">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1025" id="1025">↘⟦T⟧</a> <a class="Symbol" id="1030">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.PER.html#6593" id="1032">↘⟦T′⟧</a> <a class="Symbol" id="1038">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1040" id="1040">↘⟦T′⟧</a> <a class="Symbol" id="1046">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.PER.html#6622" id="1048">T≈T′</a> <a class="Symbol" id="1053">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1055" id="1055">T≈T′</a> <a class="Symbol" id="1060">}</a>
         <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1071">,</a> <a class="Keyword" id="1073">record</a> <a class="Symbol" id="1080">{</a> <a class="Field" href="NonCumulative.Ascribed.Completeness.LogRel.html#401" id="1082">⟦t⟧</a> <a class="Symbol" id="1086">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1088" id="1088">⟦t⟧</a> <a class="Symbol" id="1092">;</a> <a class="Field" href="NonCumulative.Ascribed.Completeness.LogRel.html#415" id="1094">⟦t′⟧</a> <a class="Symbol" id="1099">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1101" id="1101">⟦t′⟧</a> <a class="Symbol" id="1106">;</a> <a class="Field" href="NonCumulative.Ascribed.Completeness.LogRel.html#429" id="1108">↘⟦t⟧</a> <a class="Symbol" id="1113">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1115" id="1115">↘⟦t⟧</a> <a class="Symbol" id="1120">;</a> <a class="Field" href="NonCumulative.Ascribed.Completeness.LogRel.html#455" id="1122">↘⟦t′⟧</a> <a class="Symbol" id="1128">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1130" id="1130">↘⟦t′⟧</a> <a class="Symbol" id="1136">;</a> <a class="Field" href="NonCumulative.Ascribed.Completeness.LogRel.html#484" id="1138">t≈t′</a> <a class="Symbol" id="1143">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1145" id="1145">t≈t′</a> <a class="Symbol" id="1150">}</a>
         <a class="Keyword" id="1161">with</a> <a class="Symbol" id="1166">_</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1168">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1170" id="1170">↓⟦t⟧</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1175">,</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1177" id="1177">↓⟦t′⟧</a> ← <a class="Function" href="NonCumulative.Ascribed.Semantics.Realizability.html#6444" id="1185">El⊆Top</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1055" id="1192">T≈T′</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1145" id="1197">t≈t′</a> <a class="Symbol" id="1202">(</a><a class="Field" href="LibNonEmpty.html#709" id="1203">len</a> <a class="Bound" id="1207">Γ</a><a class="Symbol" id="1208">)</a>
         <a class="Symbol" id="1219">=</a> <a class="Symbol" id="1221">_</a>
         <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1232">,</a> <a class="Keyword" id="1234">record</a>
           <a class="Symbol" id="1252">{</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#6207" id="1254">init</a> <a class="Symbol" id="1259">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#913" id="1261">↘ρ</a>
           <a class="Symbol" id="1275">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#6234" id="1277">nbe</a> <a class="Symbol" id="1281">=</a> <a class="Keyword" id="1283">record</a>
                   <a class="Symbol" id="1309">{</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5633" id="1311">↘⟦t⟧</a> <a class="Symbol" id="1316">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1115" id="1318">↘⟦t⟧</a>
                   <a class="Symbol" id="1342">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5658" id="1344">↘⟦T⟧</a> <a class="Symbol" id="1349">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1025" id="1351">↘⟦T⟧</a>
                   <a class="Symbol" id="1375">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5683" id="1377">↓⟦t⟧</a> <a class="Symbol" id="1382">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1170" id="1384">↓⟦t⟧</a>
                   <a class="Symbol" id="1408">}</a>
           <a class="Symbol" id="1421">}</a>
         <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1432">,</a> <a class="Keyword" id="1434">record</a>
           <a class="Symbol" id="1452">{</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#6207" id="1454">init</a> <a class="Symbol" id="1459">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#918" id="1461">↘ρ′</a>
           <a class="Symbol" id="1476">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#6234" id="1478">nbe</a> <a class="Symbol" id="1482">=</a> <a class="Keyword" id="1484">record</a>
                   <a class="Symbol" id="1510">{</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5633" id="1512">↘⟦t⟧</a> <a class="Symbol" id="1517">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1130" id="1519">↘⟦t′⟧</a>
                   <a class="Symbol" id="1544">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5658" id="1546">↘⟦T⟧</a> <a class="Symbol" id="1551">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1040" id="1553">↘⟦T′⟧</a>
                   <a class="Symbol" id="1578">;</a> <a class="Field" href="NonCumulative.Ascribed.Semantics.Readback.html#5683" id="1580">↓⟦t⟧</a> <a class="Symbol" id="1585">=</a> <a class="Bound" href="NonCumulative.Ascribed.Completeness.html#1177" id="1587">↓⟦t′⟧</a>
                   <a class="Symbol" id="1612">}</a>
           <a class="Symbol" id="1625">}</a>
</pre></div></body></html>