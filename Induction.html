<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>Induction</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Comment" id="1">------------------------------------------------------------------------</a>
<a class="Comment" id="74">-- The Agda standard library</a>
<a class="Comment" id="103">--</a>
<a class="Comment" id="106">-- An abstraction of various forms of recursion/induction</a>
<a class="Comment" id="164">------------------------------------------------------------------------</a>

<a class="Comment" id="238">-- The idea underlying Induction.* comes from Epigram 1, see Section 4</a>
<a class="Comment" id="309">-- of "The view from the left" by McBride and McKinna.</a>

<a class="Comment" id="365">-- Note: The types in this module can perhaps be easier to understand</a>
<a class="Comment" id="435">-- if they are normalised. Note also that Agda can do the</a>
<a class="Comment" id="493">-- normalisation for you.</a>

<a class="Symbol" id="520">{-#</a> <a class="Keyword" id="524">OPTIONS</a> <a class="Pragma" id="532">--cubical-compatible</a> <a class="Pragma" id="553">--safe</a> <a class="Symbol" id="560">#-}</a>

<a class="Keyword" id="565">module</a> <a class="Module" href="Induction.html" id="572">Induction</a> <a class="Keyword" id="582">where</a>

<a class="Keyword" id="589">open</a> <a class="Keyword" id="594">import</a> <a class="Module" href="Level.html" id="601">Level</a>
<a class="Keyword" id="607">open</a> <a class="Keyword" id="612">import</a> <a class="Module" href="Relation.Unary.html" id="619">Relation.Unary</a>

<a class="Comment" id="635">-- A RecStruct describes the allowed structure of recursion. The</a>
<a class="Comment" id="700">-- examples in Data.Nat.Induction should explain what this is all</a>
<a class="Comment" id="766">-- about.</a>

<a id="RecStruct"></a><a class="Function" href="Induction.html#777" id="777">RecStruct</a> <a class="Symbol" id="787">:</a> <a class="Symbol" id="789">∀</a> <a class="Symbol" id="791">{</a><a class="Bound" href="Induction.html#792" id="792">a</a><a class="Symbol" id="793">}</a> <a class="Symbol" id="795">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="797">Set</a> <a class="Bound" href="Induction.html#792" id="801">a</a> <a class="Symbol" id="803">→</a> <a class="Symbol" id="805">(</a><a class="Bound" href="Induction.html#806" id="806">ℓ₁</a> <a class="Bound" href="Induction.html#809" id="809">ℓ₂</a> <a class="Symbol" id="812">:</a> <a class="Postulate" href="Agda.Primitive.html#742" id="814">Level</a><a class="Symbol" id="819">)</a> <a class="Symbol" id="821">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="823">Set</a> <a class="Symbol" id="827">_</a>
<a class="Function" href="Induction.html#777" id="829">RecStruct</a> <a class="Bound" href="Induction.html#839" id="839">A</a> <a class="Bound" href="Induction.html#841" id="841">ℓ₁</a> <a class="Bound" href="Induction.html#844" id="844">ℓ₂</a> <a class="Symbol" id="847">=</a> <a class="Function" href="Relation.Unary.html#1232" id="849">Pred</a> <a class="Bound" href="Induction.html#839" id="854">A</a> <a class="Bound" href="Induction.html#841" id="856">ℓ₁</a> <a class="Symbol" id="859">→</a> <a class="Function" href="Relation.Unary.html#1232" id="861">Pred</a> <a class="Bound" href="Induction.html#839" id="866">A</a> <a class="Bound" href="Induction.html#844" id="868">ℓ₂</a>

<a class="Comment" id="872">-- A recursor builder constructs an instance of a recursion structure</a>
<a class="Comment" id="942">-- for a given input.</a>

<a id="RecursorBuilder"></a><a class="Function" href="Induction.html#965" id="965">RecursorBuilder</a> <a class="Symbol" id="981">:</a> <a class="Symbol" id="983">∀</a> <a class="Symbol" id="985">{</a><a class="Bound" href="Induction.html#986" id="986">a</a> <a class="Bound" href="Induction.html#988" id="988">ℓ₁</a> <a class="Bound" href="Induction.html#991" id="991">ℓ₂</a><a class="Symbol" id="993">}</a> <a class="Symbol" id="995">{</a><a class="Bound" href="Induction.html#996" id="996">A</a> <a class="Symbol" id="998">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1000">Set</a> <a class="Bound" href="Induction.html#986" id="1004">a</a><a class="Symbol" id="1005">}</a> <a class="Symbol" id="1007">→</a> <a class="Function" href="Induction.html#777" id="1009">RecStruct</a> <a class="Bound" href="Induction.html#996" id="1019">A</a> <a class="Bound" href="Induction.html#988" id="1021">ℓ₁</a> <a class="Bound" href="Induction.html#991" id="1024">ℓ₂</a> <a class="Symbol" id="1027">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1029">Set</a> <a class="Symbol" id="1033">_</a>
<a class="Function" href="Induction.html#965" id="1035">RecursorBuilder</a> <a class="Bound" href="Induction.html#1051" id="1051">Rec</a> <a class="Symbol" id="1055">=</a> <a class="Symbol" id="1057">∀</a> <a class="Bound" href="Induction.html#1059" id="1059">P</a> <a class="Symbol" id="1061">→</a> <a class="Bound" href="Induction.html#1051" id="1063">Rec</a> <a class="Bound" href="Induction.html#1059" id="1067">P</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1069">⊆′</a> <a class="Bound" href="Induction.html#1059" id="1072">P</a> <a class="Symbol" id="1074">→</a> <a class="Function" href="Relation.Unary.html#3491" id="1076">Universal</a> <a class="Symbol" id="1086">(</a><a class="Bound" href="Induction.html#1051" id="1087">Rec</a> <a class="Bound" href="Induction.html#1059" id="1091">P</a><a class="Symbol" id="1092">)</a>

<a class="Comment" id="1095">-- A recursor can be used to actually compute/prove something useful.</a>

<a id="Recursor"></a><a class="Function" href="Induction.html#1166" id="1166">Recursor</a> <a class="Symbol" id="1175">:</a> <a class="Symbol" id="1177">∀</a> <a class="Symbol" id="1179">{</a><a class="Bound" href="Induction.html#1180" id="1180">a</a> <a class="Bound" href="Induction.html#1182" id="1182">ℓ₁</a> <a class="Bound" href="Induction.html#1185" id="1185">ℓ₂</a><a class="Symbol" id="1187">}</a> <a class="Symbol" id="1189">{</a><a class="Bound" href="Induction.html#1190" id="1190">A</a> <a class="Symbol" id="1192">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1194">Set</a> <a class="Bound" href="Induction.html#1180" id="1198">a</a><a class="Symbol" id="1199">}</a> <a class="Symbol" id="1201">→</a> <a class="Function" href="Induction.html#777" id="1203">RecStruct</a> <a class="Bound" href="Induction.html#1190" id="1213">A</a> <a class="Bound" href="Induction.html#1182" id="1215">ℓ₁</a> <a class="Bound" href="Induction.html#1185" id="1218">ℓ₂</a> <a class="Symbol" id="1221">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1223">Set</a> <a class="Symbol" id="1227">_</a>
<a class="Function" href="Induction.html#1166" id="1229">Recursor</a> <a class="Bound" href="Induction.html#1238" id="1238">Rec</a> <a class="Symbol" id="1242">=</a> <a class="Symbol" id="1244">∀</a> <a class="Bound" href="Induction.html#1246" id="1246">P</a> <a class="Symbol" id="1248">→</a> <a class="Bound" href="Induction.html#1238" id="1250">Rec</a> <a class="Bound" href="Induction.html#1246" id="1254">P</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1256">⊆′</a> <a class="Bound" href="Induction.html#1246" id="1259">P</a> <a class="Symbol" id="1261">→</a> <a class="Function" href="Relation.Unary.html#3491" id="1263">Universal</a> <a class="Bound" href="Induction.html#1246" id="1273">P</a>

<a class="Comment" id="1276">-- And recursors can be constructed from recursor builders.</a>

<a id="build"></a><a class="Function" href="Induction.html#1337" id="1337">build</a> <a class="Symbol" id="1343">:</a> <a class="Symbol" id="1345">∀</a> <a class="Symbol" id="1347">{</a><a class="Bound" href="Induction.html#1348" id="1348">a</a> <a class="Bound" href="Induction.html#1350" id="1350">ℓ₁</a> <a class="Bound" href="Induction.html#1353" id="1353">ℓ₂</a><a class="Symbol" id="1355">}</a> <a class="Symbol" id="1357">{</a><a class="Bound" href="Induction.html#1358" id="1358">A</a> <a class="Symbol" id="1360">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1362">Set</a> <a class="Bound" href="Induction.html#1348" id="1366">a</a><a class="Symbol" id="1367">}</a> <a class="Symbol" id="1369">{</a><a class="Bound" href="Induction.html#1370" id="1370">Rec</a> <a class="Symbol" id="1374">:</a> <a class="Function" href="Induction.html#777" id="1376">RecStruct</a> <a class="Bound" href="Induction.html#1358" id="1386">A</a> <a class="Bound" href="Induction.html#1350" id="1388">ℓ₁</a> <a class="Bound" href="Induction.html#1353" id="1391">ℓ₂</a><a class="Symbol" id="1393">}</a> <a class="Symbol" id="1395">→</a>
        <a class="Function" href="Induction.html#965" id="1405">RecursorBuilder</a> <a class="Bound" href="Induction.html#1370" id="1421">Rec</a> <a class="Symbol" id="1425">→</a>
        <a class="Function" href="Induction.html#1166" id="1435">Recursor</a> <a class="Bound" href="Induction.html#1370" id="1444">Rec</a>
<a class="Function" href="Induction.html#1337" id="1448">build</a> <a class="Bound" href="Induction.html#1454" id="1454">builder</a> <a class="Bound" href="Induction.html#1462" id="1462">P</a> <a class="Bound" href="Induction.html#1464" id="1464">f</a> <a class="Bound" href="Induction.html#1466" id="1466">x</a> <a class="Symbol" id="1468">=</a> <a class="Bound" href="Induction.html#1464" id="1470">f</a> <a class="Bound" href="Induction.html#1466" id="1472">x</a> <a class="Symbol" id="1474">(</a><a class="Bound" href="Induction.html#1454" id="1475">builder</a> <a class="Bound" href="Induction.html#1462" id="1483">P</a> <a class="Bound" href="Induction.html#1464" id="1485">f</a> <a class="Bound" href="Induction.html#1466" id="1487">x</a><a class="Symbol" id="1488">)</a>

<a class="Comment" id="1491">-- We can repeat the exercise above for subsets of the type we are</a>
<a class="Comment" id="1558">-- recursing over.</a>

<a id="SubsetRecursorBuilder"></a><a class="Function" href="Induction.html#1578" id="1578">SubsetRecursorBuilder</a> <a class="Symbol" id="1600">:</a> <a class="Symbol" id="1602">∀</a> <a class="Symbol" id="1604">{</a><a class="Bound" href="Induction.html#1605" id="1605">a</a> <a class="Bound" href="Induction.html#1607" id="1607">ℓ₁</a> <a class="Bound" href="Induction.html#1610" id="1610">ℓ₂</a> <a class="Bound" href="Induction.html#1613" id="1613">ℓ₃</a><a class="Symbol" id="1615">}</a> <a class="Symbol" id="1617">{</a><a class="Bound" href="Induction.html#1618" id="1618">A</a> <a class="Symbol" id="1620">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1622">Set</a> <a class="Bound" href="Induction.html#1605" id="1626">a</a><a class="Symbol" id="1627">}</a> <a class="Symbol" id="1629">→</a>
                        <a class="Function" href="Relation.Unary.html#1232" id="1655">Pred</a> <a class="Bound" href="Induction.html#1618" id="1660">A</a> <a class="Bound" href="Induction.html#1607" id="1662">ℓ₁</a> <a class="Symbol" id="1665">→</a> <a class="Function" href="Induction.html#777" id="1667">RecStruct</a> <a class="Bound" href="Induction.html#1618" id="1677">A</a> <a class="Bound" href="Induction.html#1610" id="1679">ℓ₂</a> <a class="Bound" href="Induction.html#1613" id="1682">ℓ₃</a> <a class="Symbol" id="1685">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1687">Set</a> <a class="Symbol" id="1691">_</a>
<a class="Function" href="Induction.html#1578" id="1693">SubsetRecursorBuilder</a> <a class="Bound" href="Induction.html#1715" id="1715">Q</a> <a class="Bound" href="Induction.html#1717" id="1717">Rec</a> <a class="Symbol" id="1721">=</a> <a class="Symbol" id="1723">∀</a> <a class="Bound" href="Induction.html#1725" id="1725">P</a> <a class="Symbol" id="1727">→</a> <a class="Bound" href="Induction.html#1717" id="1729">Rec</a> <a class="Bound" href="Induction.html#1725" id="1733">P</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1735">⊆′</a> <a class="Bound" href="Induction.html#1725" id="1738">P</a> <a class="Symbol" id="1740">→</a> <a class="Bound" href="Induction.html#1715" id="1742">Q</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1744">⊆′</a> <a class="Bound" href="Induction.html#1717" id="1747">Rec</a> <a class="Bound" href="Induction.html#1725" id="1751">P</a>

<a id="SubsetRecursor"></a><a class="Function" href="Induction.html#1754" id="1754">SubsetRecursor</a> <a class="Symbol" id="1769">:</a> <a class="Symbol" id="1771">∀</a> <a class="Symbol" id="1773">{</a><a class="Bound" href="Induction.html#1774" id="1774">a</a> <a class="Bound" href="Induction.html#1776" id="1776">ℓ₁</a> <a class="Bound" href="Induction.html#1779" id="1779">ℓ₂</a> <a class="Bound" href="Induction.html#1782" id="1782">ℓ₃</a><a class="Symbol" id="1784">}</a> <a class="Symbol" id="1786">{</a><a class="Bound" href="Induction.html#1787" id="1787">A</a> <a class="Symbol" id="1789">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1791">Set</a> <a class="Bound" href="Induction.html#1774" id="1795">a</a><a class="Symbol" id="1796">}</a> <a class="Symbol" id="1798">→</a>
                 <a class="Function" href="Relation.Unary.html#1232" id="1817">Pred</a> <a class="Bound" href="Induction.html#1787" id="1822">A</a> <a class="Bound" href="Induction.html#1776" id="1824">ℓ₁</a> <a class="Symbol" id="1827">→</a> <a class="Function" href="Induction.html#777" id="1829">RecStruct</a> <a class="Bound" href="Induction.html#1787" id="1839">A</a> <a class="Bound" href="Induction.html#1779" id="1841">ℓ₂</a> <a class="Bound" href="Induction.html#1782" id="1844">ℓ₃</a> <a class="Symbol" id="1847">→</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1849">Set</a> <a class="Symbol" id="1853">_</a>
<a class="Function" href="Induction.html#1754" id="1855">SubsetRecursor</a> <a class="Bound" href="Induction.html#1870" id="1870">Q</a> <a class="Bound" href="Induction.html#1872" id="1872">Rec</a> <a class="Symbol" id="1876">=</a> <a class="Symbol" id="1878">∀</a> <a class="Bound" href="Induction.html#1880" id="1880">P</a> <a class="Symbol" id="1882">→</a> <a class="Bound" href="Induction.html#1872" id="1884">Rec</a> <a class="Bound" href="Induction.html#1880" id="1888">P</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1890">⊆′</a> <a class="Bound" href="Induction.html#1880" id="1893">P</a> <a class="Symbol" id="1895">→</a> <a class="Bound" href="Induction.html#1870" id="1897">Q</a> <a class="Function Operator" href="Relation.Unary.html#2539" id="1899">⊆′</a> <a class="Bound" href="Induction.html#1880" id="1902">P</a>

<a id="subsetBuild"></a><a class="Function" href="Induction.html#1905" id="1905">subsetBuild</a> <a class="Symbol" id="1917">:</a> <a class="Symbol" id="1919">∀</a> <a class="Symbol" id="1921">{</a><a class="Bound" href="Induction.html#1922" id="1922">a</a> <a class="Bound" href="Induction.html#1924" id="1924">ℓ₁</a> <a class="Bound" href="Induction.html#1927" id="1927">ℓ₂</a> <a class="Bound" href="Induction.html#1930" id="1930">ℓ₃</a><a class="Symbol" id="1932">}</a>
                <a class="Symbol" id="1950">{</a><a class="Bound" href="Induction.html#1951" id="1951">A</a> <a class="Symbol" id="1953">:</a> <a class="Primitive" href="Agda.Primitive.html#388" id="1955">Set</a> <a class="Bound" href="Induction.html#1922" id="1959">a</a><a class="Symbol" id="1960">}</a> <a class="Symbol" id="1962">{</a><a class="Bound" href="Induction.html#1963" id="1963">Q</a> <a class="Symbol" id="1965">:</a> <a class="Function" href="Relation.Unary.html#1232" id="1967">Pred</a> <a class="Bound" href="Induction.html#1951" id="1972">A</a> <a class="Bound" href="Induction.html#1924" id="1974">ℓ₁</a><a class="Symbol" id="1976">}</a> <a class="Symbol" id="1978">{</a><a class="Bound" href="Induction.html#1979" id="1979">Rec</a> <a class="Symbol" id="1983">:</a> <a class="Function" href="Induction.html#777" id="1985">RecStruct</a> <a class="Bound" href="Induction.html#1951" id="1995">A</a> <a class="Bound" href="Induction.html#1927" id="1997">ℓ₂</a> <a class="Bound" href="Induction.html#1930" id="2000">ℓ₃</a><a class="Symbol" id="2002">}</a> <a class="Symbol" id="2004">→</a>
                <a class="Function" href="Induction.html#1578" id="2022">SubsetRecursorBuilder</a> <a class="Bound" href="Induction.html#1963" id="2044">Q</a> <a class="Bound" href="Induction.html#1979" id="2046">Rec</a> <a class="Symbol" id="2050">→</a>
                <a class="Function" href="Induction.html#1754" id="2068">SubsetRecursor</a> <a class="Bound" href="Induction.html#1963" id="2083">Q</a> <a class="Bound" href="Induction.html#1979" id="2085">Rec</a>
<a class="Function" href="Induction.html#1905" id="2089">subsetBuild</a> <a class="Bound" href="Induction.html#2101" id="2101">builder</a> <a class="Bound" href="Induction.html#2109" id="2109">P</a> <a class="Bound" href="Induction.html#2111" id="2111">f</a> <a class="Bound" href="Induction.html#2113" id="2113">x</a> <a class="Bound" href="Induction.html#2115" id="2115">q</a> <a class="Symbol" id="2117">=</a> <a class="Bound" href="Induction.html#2111" id="2119">f</a> <a class="Bound" href="Induction.html#2113" id="2121">x</a> <a class="Symbol" id="2123">(</a><a class="Bound" href="Induction.html#2101" id="2124">builder</a> <a class="Bound" href="Induction.html#2109" id="2132">P</a> <a class="Bound" href="Induction.html#2111" id="2134">f</a> <a class="Bound" href="Induction.html#2113" id="2136">x</a> <a class="Bound" href="Induction.html#2115" id="2138">q</a><a class="Symbol" id="2139">)</a>
</pre></div></body></html>