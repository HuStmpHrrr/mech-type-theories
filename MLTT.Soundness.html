<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>MLTT.Soundness</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Symbol" id="1">{-#</a> <a class="Keyword" id="5">OPTIONS</a> <a class="Pragma" id="13">--without-K</a> <a class="Pragma" id="25">--safe</a> <a class="Symbol" id="32">#-}</a>

<a class="Keyword" id="37">open</a> <a class="Keyword" id="42">import</a> <a class="Module" href="Level.html" id="49">Level</a>
<a class="Keyword" id="55">open</a> <a class="Keyword" id="60">import</a> <a class="Module" href="Axiom.Extensionality.Propositional.html" id="67">Axiom.Extensionality.Propositional</a>

<a class="Comment" id="103">-- Proof of the soundness theorem</a>
<a class="Comment" id="137">--</a>
<a class="Comment" id="140">-- If a term is well-typed, then it is equivalent to its βη normal form.</a>
<a class="Keyword" id="213">module</a> <a class="Module" href="MLTT.Soundness.html" id="220">MLTT.Soundness</a> <a class="Symbol" id="235">(</a><a class="Bound" href="MLTT.Soundness.html#236" id="236">fext</a> <a class="Symbol" id="241">:</a> <a class="Function" href="Axiom.Extensionality.Propositional.html#750" id="243">Extensionality</a> <a class="Function" href="Level.html#521" id="258">0ℓ</a> <a class="Symbol" id="261">(</a><a class="Primitive" href="Agda.Primitive.html#931" id="262">suc</a> <a class="Function" href="Level.html#521" id="266">0ℓ</a><a class="Symbol" id="268">))</a> <a class="Keyword" id="271">where</a>

<a class="Keyword" id="278">open</a> <a class="Keyword" id="283">import</a> <a class="Module" href="Lib.html" id="290">Lib</a>

<a class="Keyword" id="295">open</a> <a class="Keyword" id="300">import</a> <a class="Module" href="MLTT.Statics.Properties.html" id="307">MLTT.Statics.Properties</a>
<a class="Keyword" id="331">open</a> <a class="Keyword" id="336">import</a> <a class="Module" href="MLTT.Semantics.Readback.html" id="343">MLTT.Semantics.Readback</a>
<a class="Keyword" id="367">open</a> <a class="Keyword" id="372">import</a> <a class="Module" href="MLTT.Semantics.Properties.PER.html" id="379">MLTT.Semantics.Properties.PER</a> <a class="Bound" href="MLTT.Soundness.html#236" id="409">fext</a>
<a class="Keyword" id="414">open</a> <a class="Keyword" id="419">import</a> <a class="Module" href="MLTT.Completeness.Fundamental.html" id="426">MLTT.Completeness.Fundamental</a> <a class="Bound" href="MLTT.Soundness.html#236" id="456">fext</a>
<a class="Keyword" id="461">open</a> <a class="Keyword" id="466">import</a> <a class="Module" href="MLTT.Soundness.LogRel.html" id="473">MLTT.Soundness.LogRel</a>
<a class="Keyword" id="495">open</a> <a class="Keyword" id="500">import</a> <a class="Module" href="MLTT.Soundness.Properties.Substitutions.html" id="507">MLTT.Soundness.Properties.Substitutions</a> <a class="Bound" href="MLTT.Soundness.html#236" id="547">fext</a>
<a class="Keyword" id="552">open</a> <a class="Keyword" id="557">import</a> <a class="Module" href="MLTT.Soundness.Realizability.html" id="564">MLTT.Soundness.Realizability</a> <a class="Bound" href="MLTT.Soundness.html#236" id="593">fext</a>
<a class="Keyword" id="598">open</a> <a class="Keyword" id="603">import</a> <a class="Module" href="MLTT.Soundness.Fundamental.html" id="610">MLTT.Soundness.Fundamental</a> <a class="Bound" href="MLTT.Soundness.html#236" id="637">fext</a>


<a id="soundness"></a><a class="Function" href="MLTT.Soundness.html#644" id="644">soundness</a> <a class="Symbol" id="654">:</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="656">Γ</a> <a class="Datatype Operator" href="MLTT.Statics.Concise.html#978" id="658">⊢</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2115" id="660">t</a> <a class="Datatype Operator" href="MLTT.Statics.Concise.html#978" id="662">∶</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="664">T</a> <a class="Symbol" id="666">→</a>
            <a class="Function" href="Data.Product.Base.html#852" id="680">∃</a> <a class="Symbol" id="682">λ</a> <a class="Bound" href="MLTT.Soundness.html#684" id="684">w</a> <a class="Symbol" id="686">→</a> <a class="Record" href="MLTT.Semantics.Readback.html#4946" id="688">NbE</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="692">Γ</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2115" id="694">t</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="696">T</a> <a class="Bound" href="MLTT.Soundness.html#684" id="698">w</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="700">×</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2083" id="702">Γ</a> <a class="Datatype Operator" href="MLTT.Statics.Concise.html#3166" id="704">⊢</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2115" id="706">t</a> <a class="Datatype Operator" href="MLTT.Statics.Concise.html#3166" id="708">≈</a> <a class="Function" href="MLTT.Statics.Syntax.html#2480" id="710">Nf⇒Exp</a> <a class="Bound" href="MLTT.Soundness.html#684" id="717">w</a> <a class="Datatype Operator" href="MLTT.Statics.Concise.html#3166" id="719">∶</a> <a class="Generalizable" href="MLTT.Statics.Syntax.html#2067" id="721">T</a>
<a class="Function" href="MLTT.Soundness.html#644" id="723">soundness</a> <a class="Symbol" id="733">{</a><a class="Bound" href="MLTT.Soundness.html#734" id="734">Γ</a><a class="Symbol" id="735">}</a> <a class="Symbol" id="737">{</a><a class="Bound" href="MLTT.Soundness.html#738" id="738">t</a><a class="Symbol" id="739">}</a> <a class="Symbol" id="741">{</a><a class="Bound" href="MLTT.Soundness.html#742" id="742">T</a><a class="Symbol" id="743">}</a> <a class="Bound" href="MLTT.Soundness.html#745" id="745">⊢t</a>
  <a class="Keyword" id="750">with</a> <a class="Keyword" id="755">record</a> <a class="Symbol" id="762">{</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11966" id="764">⊩Γ</a> <a class="Symbol" id="767">=</a> <a class="Bound" href="MLTT.Soundness.html#769" id="769">⊩Γ</a> <a class="Symbol" id="772">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#12097" id="774">krip</a> <a class="Symbol" id="779">=</a> <a class="Bound" href="MLTT.Soundness.html#781" id="781">krip</a> <a class="Symbol" id="786">}</a> ← <a class="Function" href="MLTT.Soundness.Fundamental.html#2748" id="790">fundamental-⊢t⇒⊩t</a> <a class="Bound" href="MLTT.Soundness.html#745" id="808">⊢t</a>
    <a class="Keyword" id="815">with</a> <a class="Bound" href="MLTT.Soundness.html#820" id="820">ρ</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="822">,</a> <a class="Symbol" id="824">_</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="826">,</a> <a class="Bound" href="MLTT.Soundness.html#828" id="828">ρinit</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="834">,</a> <a class="Symbol" id="836">_</a> ← <a class="Function" href="MLTT.Semantics.Properties.PER.html#22980" id="840">InitEnvs-related</a> <a class="Symbol" id="857">(</a><a class="Function" href="MLTT.Completeness.Fundamental.html#638" id="858">fundamental-⊢Γ</a> <a class="Symbol" id="873">(</a><a class="Function" href="MLTT.Soundness.LogRel.html#11315" id="874">⊩⇒⊢</a> <a class="Bound" href="MLTT.Soundness.html#769" id="878">⊩Γ</a><a class="Symbol" id="880">))</a>
     <a class="Keyword" id="888">with</a> <a class="Keyword" id="893">record</a> <a class="Symbol" id="900">{</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11533" id="902">⟦T⟧</a> <a class="Symbol" id="906">=</a> <a class="Bound" href="MLTT.Soundness.html#908" id="908">⟦T⟧</a> <a class="Symbol" id="912">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11547" id="914">⟦t⟧</a> <a class="Symbol" id="918">=</a> <a class="Bound" href="MLTT.Soundness.html#920" id="920">⟦t⟧</a> <a class="Symbol" id="924">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11561" id="926">↘⟦T⟧</a> <a class="Symbol" id="931">=</a> <a class="Bound" href="MLTT.Soundness.html#933" id="933">↘⟦T⟧</a> <a class="Symbol" id="938">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11587" id="940">↘⟦t⟧</a> <a class="Symbol" id="945">=</a> <a class="Bound" href="MLTT.Soundness.html#947" id="947">↘⟦t⟧</a> <a class="Symbol" id="952">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11613" id="954">T∈𝕌</a> <a class="Symbol" id="958">=</a> <a class="Bound" href="MLTT.Soundness.html#960" id="960">T∈𝕌</a> <a class="Symbol" id="964">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#11636" id="966">t∼⟦t⟧</a> <a class="Symbol" id="972">=</a> <a class="Bound" href="MLTT.Soundness.html#974" id="974">t∼⟦t⟧</a> <a class="Symbol" id="980">}</a> ← <a class="Bound" href="MLTT.Soundness.html#781" id="984">krip</a> <a class="Symbol" id="989">(</a><a class="Function" href="MLTT.Soundness.Properties.Substitutions.html#7986" id="990">InitEnvs⇒s®I</a> <a class="Bound" href="MLTT.Soundness.html#769" id="1003">⊩Γ</a> <a class="Bound" href="MLTT.Soundness.html#828" id="1006">ρinit</a><a class="Symbol" id="1011">)</a>
        <a class="Keyword" id="1021">with</a> <a class="Keyword" id="1026">record</a> <a class="Symbol" id="1033">{</a> <a class="Field" href="MLTT.Soundness.LogRel.html#7931" id="1035">a∈⊤</a> <a class="Symbol" id="1039">=</a> <a class="Bound" href="MLTT.Soundness.html#1041" id="1041">a∈⊤</a> <a class="Symbol" id="1045">;</a> <a class="Field" href="MLTT.Soundness.LogRel.html#7962" id="1047">krip</a> <a class="Symbol" id="1052">=</a> <a class="Bound" href="MLTT.Soundness.html#1054" id="1054">krip</a> <a class="Symbol" id="1059">}</a> ← <a class="Function" href="MLTT.Soundness.Realizability.html#17845" id="1063">®El⇒®↑El</a> <a class="Bound" href="MLTT.Soundness.html#960" id="1072">T∈𝕌</a> <a class="Bound" href="MLTT.Soundness.html#974" id="1076">t∼⟦t⟧</a>
           <a class="Keyword" id="1093">with</a> <a class="Bound" href="MLTT.Soundness.html#1098" id="1098">w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1100">,</a> <a class="Bound" href="MLTT.Soundness.html#1102" id="1102">↘w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1105">,</a> <a class="Symbol" id="1107">_</a> ← <a class="Bound" href="MLTT.Soundness.html#1041" id="1111">a∈⊤</a> <a class="Symbol" id="1115">(</a><a class="Field" href="LibNonEmpty.html#709" id="1116">len</a> <a class="Bound" href="MLTT.Soundness.html#734" id="1120">Γ</a><a class="Symbol" id="1121">)</a>
              <a class="Symbol" id="1137">|</a> <a class="Bound" href="MLTT.Soundness.html#1139" id="1139">eq</a> ← <a class="Bound" href="MLTT.Soundness.html#1054" id="1144">krip</a> <a class="Symbol" id="1149">(</a><a class="Function" href="MLTT.Soundness.Weakening.html#2340" id="1150">⊢wI</a> <a class="Symbol" id="1154">(</a><a class="Function" href="MLTT.Soundness.LogRel.html#11315" id="1155">⊩⇒⊢</a> <a class="Bound" href="MLTT.Soundness.html#769" id="1159">⊩Γ</a><a class="Symbol" id="1161">))</a> <a class="Symbol" id="1164">=</a> <a class="Bound" href="MLTT.Soundness.html#1098" id="1166">w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1168">,</a> <a class="Function" href="MLTT.Soundness.html#1203" id="1170">nbe</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1174">,</a> <a class="Function" href="MLTT.Statics.Properties.html#8523" id="1176">[I]-≈ˡ</a> <a class="Symbol" id="1183">(</a><a class="Function" href="MLTT.Statics.Properties.html#8523" id="1184">[I]-≈ˡ</a> <a class="Bound" href="MLTT.Soundness.html#1139" id="1191">eq</a><a class="Symbol" id="1193">)</a>
  <a class="Keyword" id="1197">where</a> <a class="Function" href="MLTT.Soundness.html#1203" id="1203">nbe</a> <a class="Symbol" id="1207">:</a> <a class="Record" href="MLTT.Semantics.Readback.html#4946" id="1209">NbE</a> <a class="Bound" href="MLTT.Soundness.html#734" id="1213">Γ</a> <a class="Bound" href="MLTT.Soundness.html#738" id="1215">t</a> <a class="Bound" href="MLTT.Soundness.html#742" id="1217">T</a> <a class="Bound" href="MLTT.Soundness.html#1098" id="1219">w</a>
        <a class="Function" href="MLTT.Soundness.html#1203" id="1229">nbe</a> <a class="Symbol" id="1233">=</a> <a class="Keyword" id="1235">record</a>
          <a class="Symbol" id="1252">{</a> <a class="Field" href="MLTT.Semantics.Readback.html#4982" id="1254">envs</a> <a class="Symbol" id="1259">=</a> <a class="Bound" href="MLTT.Soundness.html#820" id="1261">ρ</a>
          <a class="Symbol" id="1273">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#4997" id="1275">init</a> <a class="Symbol" id="1280">=</a> <a class="Bound" href="MLTT.Soundness.html#828" id="1282">ρinit</a>
          <a class="Symbol" id="1298">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#5024" id="1300">nbe</a>  <a class="Symbol" id="1305">=</a> <a class="Keyword" id="1307">record</a>
            <a class="Symbol" id="1326">{</a> <a class="Field" href="MLTT.Semantics.Readback.html#4426" id="1328">⟦t⟧</a>  <a class="Symbol" id="1333">=</a> <a class="Bound" href="MLTT.Soundness.html#920" id="1335">⟦t⟧</a>
            <a class="Symbol" id="1351">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#4439" id="1353">⟦T⟧</a>  <a class="Symbol" id="1358">=</a> <a class="Bound" href="MLTT.Soundness.html#908" id="1360">⟦T⟧</a>
            <a class="Symbol" id="1376">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#4452" id="1378">↘⟦t⟧</a> <a class="Symbol" id="1383">=</a> <a class="Bound" href="MLTT.Soundness.html#947" id="1385">↘⟦t⟧</a>
            <a class="Symbol" id="1402">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#4477" id="1404">↘⟦T⟧</a> <a class="Symbol" id="1409">=</a> <a class="Bound" href="MLTT.Soundness.html#933" id="1411">↘⟦T⟧</a>
            <a class="Symbol" id="1428">;</a> <a class="Field" href="MLTT.Semantics.Readback.html#4502" id="1430">↓⟦t⟧</a> <a class="Symbol" id="1435">=</a> <a class="Bound" href="MLTT.Soundness.html#1102" id="1437">↘w</a>
            <a class="Symbol" id="1452">}</a>
          <a class="Symbol" id="1464">}</a>
</pre></div></body></html>