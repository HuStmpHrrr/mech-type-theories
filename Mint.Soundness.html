<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>Mint.Soundness</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Symbol" id="1">{-#</a> <a class="Keyword" id="5">OPTIONS</a> <a class="Pragma" id="13">--without-K</a> <a class="Pragma" id="25">--safe</a> <a class="Symbol" id="32">#-}</a>

<a class="Keyword" id="37">open</a> <a class="Keyword" id="42">import</a> <a class="Module" href="Axiom.Extensionality.Propositional.html" id="49">Axiom.Extensionality.Propositional</a>

<a class="Comment" id="85">-- Proof of the soundness theorem</a>
<a class="Comment" id="119">--</a>
<a class="Comment" id="122">-- If a term is well-typed, then it is equivalent to its βη normal form.</a>
<a class="Keyword" id="195">module</a> <a class="Module" href="Mint.Soundness.html" id="202">Mint.Soundness</a> <a class="Symbol" id="217">(</a><a class="Bound" href="Mint.Soundness.html#218" id="218">fext</a> <a class="Symbol" id="223">:</a> <a class="Symbol" id="225">∀</a> <a class="Symbol" id="227">{</a><a class="Bound" href="Mint.Soundness.html#228" id="228">ℓ</a> <a class="Bound" href="Mint.Soundness.html#230" id="230">ℓ′</a><a class="Symbol" id="232">}</a> <a class="Symbol" id="234">→</a> <a class="Function" href="Axiom.Extensionality.Propositional.html#750" id="236">Extensionality</a> <a class="Bound" href="Mint.Soundness.html#228" id="251">ℓ</a> <a class="Bound" href="Mint.Soundness.html#230" id="253">ℓ′</a><a class="Symbol" id="255">)</a> <a class="Keyword" id="257">where</a>

<a class="Keyword" id="264">open</a> <a class="Keyword" id="269">import</a> <a class="Module" href="Lib.html" id="276">Lib</a>

<a class="Keyword" id="281">open</a> <a class="Keyword" id="286">import</a> <a class="Module" href="Mint.Statics.Properties.html" id="293">Mint.Statics.Properties</a>
<a class="Keyword" id="317">open</a> <a class="Keyword" id="322">import</a> <a class="Module" href="Mint.Semantics.Readback.html" id="329">Mint.Semantics.Readback</a>
<a class="Keyword" id="353">open</a> <a class="Keyword" id="358">import</a> <a class="Module" href="Mint.Semantics.Properties.Domain.html" id="365">Mint.Semantics.Properties.Domain</a> <a class="Bound" href="Mint.Soundness.html#218" id="398">fext</a>
<a class="Keyword" id="403">open</a> <a class="Keyword" id="408">import</a> <a class="Module" href="Mint.Semantics.Properties.PER.html" id="415">Mint.Semantics.Properties.PER</a> <a class="Bound" href="Mint.Soundness.html#218" id="445">fext</a>
<a class="Keyword" id="450">open</a> <a class="Keyword" id="455">import</a> <a class="Module" href="Mint.Completeness.Fundamental.html" id="462">Mint.Completeness.Fundamental</a> <a class="Bound" href="Mint.Soundness.html#218" id="492">fext</a>
<a class="Keyword" id="497">open</a> <a class="Keyword" id="502">import</a> <a class="Module" href="Mint.Soundness.LogRel.html" id="509">Mint.Soundness.LogRel</a>
<a class="Keyword" id="531">open</a> <a class="Keyword" id="536">import</a> <a class="Module" href="Mint.Soundness.Properties.Substitutions.html" id="543">Mint.Soundness.Properties.Substitutions</a> <a class="Bound" href="Mint.Soundness.html#218" id="583">fext</a>
<a class="Keyword" id="588">open</a> <a class="Keyword" id="593">import</a> <a class="Module" href="Mint.Soundness.Realizability.html" id="600">Mint.Soundness.Realizability</a> <a class="Bound" href="Mint.Soundness.html#218" id="629">fext</a>
<a class="Keyword" id="634">open</a> <a class="Keyword" id="639">import</a> <a class="Module" href="Mint.Soundness.Fundamental.html" id="646">Mint.Soundness.Fundamental</a> <a class="Bound" href="Mint.Soundness.html#218" id="673">fext</a>


<a id="soundness"></a><a class="Function" href="Mint.Soundness.html#680" id="680">soundness</a> <a class="Symbol" id="690">:</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3991" id="692">Γ</a> <a class="Datatype Operator" href="Mint.Statics.Concise.html#1142" id="694">⊢</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#4025" id="696">t</a> <a class="Datatype Operator" href="Mint.Statics.Concise.html#1142" id="698">∶</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3938" id="700">T</a> <a class="Symbol" id="702">→</a>
            <a class="Function" href="Data.Product.Base.html#852" id="716">∃</a> <a class="Symbol" id="718">λ</a> <a class="Bound" href="Mint.Soundness.html#720" id="720">w</a> <a class="Symbol" id="722">→</a> <a class="Record" href="Mint.Semantics.Readback.html#6152" id="724">NbE</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3991" id="728">Γ</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#4025" id="730">t</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3938" id="732">T</a> <a class="Bound" href="Mint.Soundness.html#720" id="734">w</a> <a class="Function Operator" href="Data.Product.Base.html#1618" id="736">×</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3991" id="738">Γ</a> <a class="Datatype Operator" href="Mint.Statics.Concise.html#3941" id="740">⊢</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#4025" id="742">t</a> <a class="Datatype Operator" href="Mint.Statics.Concise.html#3941" id="744">≈</a> <a class="Function" href="Mint.Statics.Syntax.html#4436" id="746">Nf⇒Exp</a> <a class="Bound" href="Mint.Soundness.html#720" id="753">w</a> <a class="Datatype Operator" href="Mint.Statics.Concise.html#3941" id="755">∶</a> <a class="Generalizable" href="Mint.Statics.Syntax.html#3938" id="757">T</a>
<a class="Function" href="Mint.Soundness.html#680" id="759">soundness</a> <a class="Symbol" id="769">{</a><a class="Bound" href="Mint.Soundness.html#770" id="770">Γ</a><a class="Symbol" id="771">}</a> <a class="Symbol" id="773">{</a><a class="Bound" href="Mint.Soundness.html#774" id="774">t</a><a class="Symbol" id="775">}</a> <a class="Symbol" id="777">{</a><a class="Bound" href="Mint.Soundness.html#778" id="778">T</a><a class="Symbol" id="779">}</a> <a class="Bound" href="Mint.Soundness.html#781" id="781">⊢t</a>
  <a class="Keyword" id="786">with</a> <a class="Keyword" id="791">record</a> <a class="Symbol" id="798">{</a> <a class="Field" href="Mint.Soundness.LogRel.html#15412" id="800">⊩Γ</a> <a class="Symbol" id="803">=</a> <a class="Bound" href="Mint.Soundness.html#805" id="805">⊩Γ</a> <a class="Symbol" id="808">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#15543" id="810">krip</a> <a class="Symbol" id="815">=</a> <a class="Bound" href="Mint.Soundness.html#817" id="817">krip</a> <a class="Symbol" id="822">}</a> ← <a class="Function" href="Mint.Soundness.Fundamental.html#3210" id="826">fundamental-⊢t⇒⊩t</a> <a class="Bound" href="Mint.Soundness.html#781" id="844">⊢t</a>
    <a class="Keyword" id="851">with</a> <a class="Bound" href="Mint.Soundness.html#856" id="856">ρ</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="858">,</a> <a class="Symbol" id="860">_</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="862">,</a> <a class="Bound" href="Mint.Soundness.html#864" id="864">ρinit</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="870">,</a> <a class="Symbol" id="872">_</a> ← <a class="Function" href="Mint.Semantics.Properties.PER.html#32015" id="876">InitEnvs-related</a> <a class="Symbol" id="893">(</a><a class="Function" href="Mint.Completeness.Fundamental.html#850" id="894">fundamental-⊢Γ</a> <a class="Symbol" id="909">(</a><a class="Function" href="Mint.Soundness.LogRel.html#14727" id="910">⊩⇒⊢</a> <a class="Bound" href="Mint.Soundness.html#805" id="914">⊩Γ</a><a class="Symbol" id="916">))</a>
     <a class="Keyword" id="924">with</a> <a class="Keyword" id="929">record</a> <a class="Symbol" id="936">{</a> <a class="Field" href="Mint.Soundness.LogRel.html#14977" id="938">⟦T⟧</a> <a class="Symbol" id="942">=</a> <a class="Bound" href="Mint.Soundness.html#944" id="944">⟦T⟧</a> <a class="Symbol" id="948">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#14991" id="950">⟦t⟧</a> <a class="Symbol" id="954">=</a> <a class="Bound" href="Mint.Soundness.html#956" id="956">⟦t⟧</a> <a class="Symbol" id="960">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#15005" id="962">↘⟦T⟧</a> <a class="Symbol" id="967">=</a> <a class="Bound" href="Mint.Soundness.html#969" id="969">↘⟦T⟧</a> <a class="Symbol" id="974">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#15031" id="976">↘⟦t⟧</a> <a class="Symbol" id="981">=</a> <a class="Bound" href="Mint.Soundness.html#983" id="983">↘⟦t⟧</a> <a class="Symbol" id="988">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#15057" id="990">T∈𝕌</a> <a class="Symbol" id="994">=</a> <a class="Bound" href="Mint.Soundness.html#996" id="996">T∈𝕌</a> <a class="Symbol" id="1000">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#15080" id="1002">t∼⟦t⟧</a> <a class="Symbol" id="1008">=</a> <a class="Bound" href="Mint.Soundness.html#1010" id="1010">t∼⟦t⟧</a> <a class="Symbol" id="1016">}</a> ← <a class="Bound" href="Mint.Soundness.html#817" id="1020">krip</a> <a class="Symbol" id="1025">(</a><a class="Function" href="Mint.Soundness.Properties.Substitutions.html#14746" id="1026">InitEnvs⇒s®I</a> <a class="Bound" href="Mint.Soundness.html#805" id="1039">⊩Γ</a> <a class="Bound" href="Mint.Soundness.html#864" id="1042">ρinit</a><a class="Symbol" id="1047">)</a>
        <a class="Keyword" id="1057">with</a> <a class="Keyword" id="1062">record</a> <a class="Symbol" id="1069">{</a> <a class="Field" href="Mint.Soundness.LogRel.html#10857" id="1071">a∈⊤</a> <a class="Symbol" id="1075">=</a> <a class="Bound" href="Mint.Soundness.html#1077" id="1077">a∈⊤</a> <a class="Symbol" id="1081">;</a> <a class="Field" href="Mint.Soundness.LogRel.html#10888" id="1083">krip</a> <a class="Symbol" id="1088">=</a> <a class="Bound" href="Mint.Soundness.html#1090" id="1090">krip</a> <a class="Symbol" id="1095">}</a> ← <a class="Function" href="Mint.Soundness.Realizability.html#26826" id="1099">®El⇒®↑El</a> <a class="Bound" href="Mint.Soundness.html#996" id="1108">T∈𝕌</a> <a class="Bound" href="Mint.Soundness.html#1010" id="1112">t∼⟦t⟧</a>
           <a class="Keyword" id="1129">with</a> <a class="Bound" href="Mint.Soundness.html#1134" id="1134">w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1136">,</a> <a class="Bound" href="Mint.Soundness.html#1138" id="1138">↘w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1141">,</a> <a class="Symbol" id="1143">_</a> ← <a class="Bound" href="Mint.Soundness.html#1077" id="1147">a∈⊤</a> <a class="Symbol" id="1151">(</a><a class="Function" href="Data.List.NonEmpty.Base.html#2276" id="1152">map</a> <a class="Field" href="LibNonEmpty.html#709" id="1156">len</a> <a class="Bound" href="Mint.Soundness.html#770" id="1160">Γ</a><a class="Symbol" id="1161">)</a> <a class="Function" href="Mint.Semantics.Domain.html#6360" id="1163">vone</a>
              <a class="Symbol" id="1182">|</a> <a class="Bound" href="Mint.Soundness.html#1184" id="1184">eq</a> ← <a class="Bound" href="Mint.Soundness.html#1090" id="1189">krip</a> <a class="Symbol" id="1194">(</a><a class="Function" href="Mint.Soundness.Restricted.html#7390" id="1195">⊢rI</a> <a class="Symbol" id="1199">(</a><a class="Function" href="Mint.Soundness.LogRel.html#14727" id="1200">⊩⇒⊢</a> <a class="Bound" href="Mint.Soundness.html#805" id="1204">⊩Γ</a><a class="Symbol" id="1206">))</a>
             <a class="Keyword" id="1222">rewrite</a> <a class="Function" href="Mint.Semantics.Properties.Domain.html#6025" id="1230">D-ap-vone</a> <a class="Bound" href="Mint.Soundness.html#956" id="1240">⟦t⟧</a>
                   <a class="Symbol" id="1263">|</a> <a class="Function" href="Mint.Semantics.Properties.Domain.html#6025" id="1265">D-ap-vone</a> <a class="Bound" href="Mint.Soundness.html#944" id="1275">⟦T⟧</a> <a class="Symbol" id="1279">=</a> <a class="Bound" href="Mint.Soundness.html#1134" id="1281">w</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1283">,</a> <a class="Function" href="Mint.Soundness.html#1318" id="1285">nbe</a> <a class="InductiveConstructor Operator" href="Agda.Builtin.Sigma.html#235" id="1289">,</a> <a class="Function" href="Mint.Statics.Properties.html#11216" id="1291">[I]-≈ˡ</a> <a class="Symbol" id="1298">(</a><a class="Function" href="Mint.Statics.Properties.html#11216" id="1299">[I]-≈ˡ</a> <a class="Bound" href="Mint.Soundness.html#1184" id="1306">eq</a><a class="Symbol" id="1308">)</a>
  <a class="Keyword" id="1312">where</a> <a class="Function" href="Mint.Soundness.html#1318" id="1318">nbe</a> <a class="Symbol" id="1322">:</a> <a class="Record" href="Mint.Semantics.Readback.html#6152" id="1324">NbE</a> <a class="Bound" href="Mint.Soundness.html#770" id="1328">Γ</a> <a class="Bound" href="Mint.Soundness.html#774" id="1330">t</a> <a class="Bound" href="Mint.Soundness.html#778" id="1332">T</a> <a class="Bound" href="Mint.Soundness.html#1134" id="1334">w</a>
        <a class="Function" href="Mint.Soundness.html#1318" id="1344">nbe</a> <a class="Symbol" id="1348">=</a> <a class="Keyword" id="1350">record</a>
          <a class="Symbol" id="1367">{</a> <a class="Field" href="Mint.Semantics.Readback.html#6188" id="1369">envs</a> <a class="Symbol" id="1374">=</a> <a class="Bound" href="Mint.Soundness.html#856" id="1376">ρ</a>
          <a class="Symbol" id="1388">;</a> <a class="Field" href="Mint.Semantics.Readback.html#6204" id="1390">init</a> <a class="Symbol" id="1395">=</a> <a class="Bound" href="Mint.Soundness.html#864" id="1397">ρinit</a>
          <a class="Symbol" id="1413">;</a> <a class="Field" href="Mint.Semantics.Readback.html#6231" id="1415">nbe</a>  <a class="Symbol" id="1420">=</a> <a class="Keyword" id="1422">record</a>
            <a class="Symbol" id="1441">{</a> <a class="Field" href="Mint.Semantics.Readback.html#5506" id="1443">⟦t⟧</a>  <a class="Symbol" id="1448">=</a> <a class="Bound" href="Mint.Soundness.html#956" id="1450">⟦t⟧</a>
            <a class="Symbol" id="1466">;</a> <a class="Field" href="Mint.Semantics.Readback.html#5519" id="1468">⟦T⟧</a>  <a class="Symbol" id="1473">=</a> <a class="Bound" href="Mint.Soundness.html#944" id="1475">⟦T⟧</a>
            <a class="Symbol" id="1491">;</a> <a class="Field" href="Mint.Semantics.Readback.html#5532" id="1493">↘⟦t⟧</a> <a class="Symbol" id="1498">=</a> <a class="Bound" href="Mint.Soundness.html#983" id="1500">↘⟦t⟧</a>
            <a class="Symbol" id="1517">;</a> <a class="Field" href="Mint.Semantics.Readback.html#5557" id="1519">↘⟦T⟧</a> <a class="Symbol" id="1524">=</a> <a class="Bound" href="Mint.Soundness.html#969" id="1526">↘⟦T⟧</a>
            <a class="Symbol" id="1543">;</a> <a class="Field" href="Mint.Semantics.Readback.html#5582" id="1545">↓⟦t⟧</a> <a class="Symbol" id="1550">=</a> <a class="Bound" href="Mint.Soundness.html#1138" id="1552">↘w</a>
            <a class="Symbol" id="1567">}</a>
          <a class="Symbol" id="1579">}</a>
</pre></div></body></html>